/*! For license information please see 247.4ffb60c68ef6193744ac.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e,r={83247:(t,e,r)=>{var n=r(33594),i={LOAD_FILE:1,GET_METADATA:2,GET_POSITION_DATA:3,GET_VARIABLE_STACK:4,GET_THREADS:5,STEP_INTO:6,STEP_OUT:7,STEP_OVER_FORWARD:8,STEP_OVER_BACKWARD:9,GO_TO_START:10,GO_TO_END:11,TOGGLE_BREAKPOINT:12,BREAKPOINTS:13,PLAY_FORWARD:14,PLAY_BACKWARD:15,REPLAY:16,TOGGLE_BREAKPOINT_ENABLED:17,GET_EXECUTION_TREE:18,GO_TO_POSITION:19,CLEAR_BREAKPOINTS:20};const o=i=Object.freeze(i);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,r,n){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(e,r,n,i){var o=r&&r.prototype instanceof v?r:v,a=Object.create(o.prototype);return l(a,"_invoke",function(e,r,n){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=x(s,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===i)throw i=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=3;var c=f(e,r,n);if("normal"===c.type){if(i=n.done?4:2,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=4,n.method="throw",n.arg=c.arg)}}}(e,n,new E(i||[])),!0),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p={};function v(){}function d(){}function y(){}var g={};l(g,o,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(_([])));m&&m!==r&&n.call(m,o)&&(g=m);var k=y.prototype=v.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,s,u){var c=f(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==a(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var i;l(this,"_invoke",(function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function x(e,r){var n=r.method,i=e.i[n];if(i===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(i,e.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var a=o.arg;return a?a.done?(r[e.r]=a.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function S(t){this.tryEntries.push(t)}function O(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function E(t){this.tryEntries=[[-1]],t.forEach(S,this),this.reset(!0)}function _(e){if(null!=e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw new TypeError(a(e)+" is not iterable")}return d.prototype=y,l(k,"constructor",y),l(y,"constructor",d),d.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},w(T.prototype),l(T.prototype,u,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(k),l(k,c,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){a.type="throw",a.arg=e,r.next=t}for(var i=r.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,u=o[1],c=o[2];if(-1===o[0])return n("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<u)return this.method="next",this.arg=t,n(u),!0;if(s<c)return n(c),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var i=n;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),O(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var i=n.arg;O(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:_(e),r,n},"next"===this.method&&(this.arg=t),p}},e}function u(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){u(o,n,i,a,s,"next",t)}function s(t){u(o,n,i,a,s,"throw",t)}a(void 0)}))}}function l(t){var e="function"==typeof Map?new Map:void 0;return l=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(h())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&f(i,r.prototype),i}(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)},l(t)}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}var v=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e,r){return e=p(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}(this,e,["".concat(t," returned ").concat(r," ").concat(n)])).name="HTTPRequestError",i.url=t,i.status=r,i.statusText=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),r=e,Object.defineProperty(r,"prototype",{writable:!1}),r;var r}(l(Error));function d(t){return new Promise(function(){var e=c(s().mark((function e(r,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.debug("Loading ".concat(t)),fetch(t,{cache:"no-cache"}).then(function(){var e=c(s().mark((function e(n){var i,o,a,u,c,l,h,f,p,d,y,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==n.ok){e.next=2;break}throw new v(t,n.status,n.statusText);case 2:i=n.body.getReader(),o=+n.headers.get("Content-Length"),a=0,u=[];case 6:return e.next=9,i.read();case 9:if(c=e.sent,l=c.done,h=c.value,!l){e.next=14;break}return e.abrupt("break",19);case 14:u.push(h),a+=h.length,console.debug("Received ".concat(a,"B of ").concat(o,"B")),e.next=6;break;case 19:for(f=new Uint8Array(a),p=0,d=0,y=u;d<y.length;d++)g=y[d],f.set(g,p),p+=g.length;r(f);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){n(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}function y(t){return new Promise(function(){var e=c(s().mark((function e(r,n){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=new FileReader).onload=function(t){r(new Uint8Array(t.target.result))},i.onerror=function(){n(i.error)},i.readAsArrayBuffer(t);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function m(t){var e=function(t){if("object"!=g(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}const k=function(){return t=function t(e,r){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e)n&&(this[n]=e[n]);this.filePath=r,this.fileName=r.split("/").pop()},(e=[{key:"isFunction",value:function(){return"function"===this.type}},{key:"getLineNo",value:function(){return this.lineno}},{key:"getFuncName",value:function(){return this.name}},{key:"getFilePath",value:function(){return this.filePath}},{key:"getFileName",value:function(){return this.fileName}},{key:"getId",value:function(){return this.id}},{key:"getfId",value:function(){return this.funcid}},{key:"getVariables",value:function(){return this.vars}},{key:"getType",value:function(){return this.type}},{key:"getSyntax",value:function(){return this.syntax}}])&&b(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function x(t){var e=function(t){if("object"!=w(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:e+""}const S=function(){return t=function t(e){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e)Object.prototype.hasOwnProperty.call(e,r)&&(this[r]=e[r])},(e=[{key:"getVarId",value:function(){return this.varId}},{key:"isGlobal",value:function(){return"global"in this&&!0===this.global}}])&&T(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function _(t){var e=function(t){if("object"!=O(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==O(e)?e:e+""}const P=function(){return t=function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("IRStreamHeader is required.");if(this.header=e,!this.header||"object"!==O(this.header))throw new Error("Invalid header format.");this.logTypeMap={},this.variableMap={},this.parseHeader()},(e=[{key:"parseHeader",value:function(){var t;if(null===(t=this.header)||void 0===t||!t.ltMap)throw new Error("Invalid header: ltMap is missing.");for(var e in this.header.ltMap)if(e){var r=this.header.ltMap[e],n=this._getFileFromLogType(e);this.logTypeMap[e]=new k(r,n)}for(var i in this.header.varMap)if(i){var o=this.header.varMap[i];this.variableMap[i]=new S(o)}}},{key:"getLtFromInjectedLineno",value:function(t,e){for(var r in this.logTypeMap)if(r){var n=this.logTypeMap[r];if(t==n.file&&e==n.injectedLineno)return n}return null}},{key:"getLogTypeFromLineNumber",value:function(t,e){for(var r=this.header.fileTree[t].minLt,n=this.header.fileTree[t].maxLt,i=r+1;i<=n;i++)if(e==this.logTypeMap[i].lineno)return this.logTypeMap[i];return null}},{key:"_getFileFromLogType",value:function(t){for(var e in this.header.fileTree)if(e){var r=this.header.fileTree[e].minLt,n=this.header.fileTree[e].maxLt;if(r<t&&n>=t)return e}return null}},{key:"getSourceFiles",value:function(){var t=this,e={};return Object.keys(this.header.fileTree).forEach((function(r,n){var i=t.header.fileTree[r];if(!i.source)throw new Error("Source missing for file: ".concat(r));e[r]=i.source})),e}},{key:"hasAbstractionMap",value:function(){return"sdg"in this.header}},{key:"getAbstractionMap",value:function(){return this.hasAbstractionMap()?this.header.sdg:null}},{key:"getSDG",value:function(){return"sdg"in this.header?this.header.sdg:null}},{key:"getSDGMeta",value:function(){return"sdg_meta"in this.header?this.header.sdg_meta:null}},{key:"getDesignMap",value:function(){return"design_map"in this.header?this.header.design_map:null}}])&&E(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t,e,r){return(e=M(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function L(t){return function(t){if(Array.isArray(t))return N(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return N(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t){if("object"!=I(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==I(e)?e:e+""}const F=function(){return t=function t(e,r,n){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sdg=e,this.map=e.modules,this.sdgMeta=r,this.printTreeToConsole=!1,this.designMap=n,this.printTreeToConsole&&console.clear(),this.abstractionStack=[],this.currentAbstraction=null,this.executionTree=[],this.violations=[],this.functionalBlocks=[],this.behavioralTree=[],this.map)!0===this.sdgMeta[i].start&&(this.abstractionStack.push({value:this.map[i]}),this.currentAbstraction=this.map[i])},e=[{key:"mapExecutionToFunctionalAbstractions",value:function(t){for(var e,r=L(this.abstractionStack),n=r.length-1;n>=0;n--)if("function"===r[n].value.type){e=r[n];break}if(!e)return!1;if(!("functional_abstractions"in e.value))return!1;for(var i=e.value.functional_abstractions,o=t.abstraction_meta,a=0;a<i.length;a++){var s=i[a];if(s.abstractions.includes(o)){if(this.functionalBlocks.length>0){var u=this.functionalBlocks[this.functionalBlocks.length-1];u.functionalAbs.id!==s.id?this.functionalBlocks.push({functionalAbs:s,abstraction:t,execution:[]}):u.abstraction=t}else this.functionalBlocks.push({functionalAbs:s,abstraction:t,execution:[]});return this.functionalBlocks[this.functionalBlocks.length-1]}}console.warn("Unable to find the functional abstraction.")}},{key:"mapFunctionalAbstractionToBehavior",value:function(){var t=0,e=[];do{var r=this.functionalBlocks[t].functionalAbs,n=this.getBehavior(r.id);if(n){for(var i=n.abstractions[0]===r.id;e.length>0;){var o=e[e.length-1];if("selector"===o.entry.type&&o.entry.targetBehaviors.includes(n.id)){e.push({behavior:n,entry:r,position:1});break}if(o.behavior.id===n.id){var a=e[e.length-1];a.behavior=n,a.entry=r,a.position=a.behavior.abstractions.indexOf(r.id)+1;break}e.pop()}0===e.length&&e.push({behavior:n,entry:r,position:1});var s=e.length;if(i){var u=this.functionalBlocks[t].abstraction.nextVarStack,c=this.replacePlaceHoldersInIntent(n,u);this.behavioralTree.push({level:s-1,type:"selector",entry:r,behavior:n,intent:c,execution:this.functionalBlocks[t].execution})}else for(var l=this.behavioralTree.length-1,h=this.functionalBlocks[t].functionalAbs.id,f=l;f>=0;f--){var p=this.behavioralTree[f];if(p.behavior.abstractions.includes(h)){var v=p.execution;p.execution=v.concat(this.functionalBlocks[t].execution);break}}}}while(++t<this.functionalBlocks.length);for(var d=0;d<this.behavioralTree.length-1;d++){var y=this.behavioralTree[d];this.behavioralTree[d+1].level>y.level&&(y.collapsible=!0,y.collapsed=!0)}for(var g=0;g<this.behavioralTree.length;g++){for(var b=this.behavioralTree[g],m=0;m<b.execution.length-1;m++){var k=b.execution[m];b.execution[m+1].level>k.level?(k.collapsible=!0,k.collapsed=!1):(k.collapsible=!1,k.collapsed=!1)}for(var w=b.execution.map((function(t){return t.level})),T=Math.min.apply(Math,L(w)),x=0;x<b.execution.length;x++){var S=b.execution[x];S.level=S.level-T+1}}}},{key:"getBehavior",value:function(t){for(var e=0;e<this.designMap.behavior.length;e++){var r=this.designMap.behavior[e];if(r.abstractions.includes(t))return r}}},{key:"validateConstraints",value:function(t,e){if("constraint"in t)for(var r=0;r<t.constraint.length;r++){var n=t.constraint[r],i=void 0,o=void 0;if(e.nextVarStack){if("local"===n.scope)i=e.nextVarStack[0];else{if("global"!==n.scope){console.warn("Constraint has an invalid scope for the variable");continue}i=e.nextVarStack[1]}if(i&&n.name in i){if(o=i[n.name],"key"in n&&n.key in o)o=o[n.key];else if("key"in n){console.warn("Unable to access key of variable to validate constraint.");continue}if("minLength"===n.type)(null===o||"string"!=typeof o||o.length<n.value)&&this.violations.push({position:e.position,index:this.executionTree.length,constraint:n});else if("is_object"===n.type)(null===o||"object"===I(o)&&Array.isArray(o)||"object"!==I(o))&&this.violations.push({position:e.position,index:this.executionTree.length,constraint:n});else if("is_array"===n.type)null!==o&&Array.isArray(o)||this.violations.push({position:e.position,index:this.executionTree.length,constraint:n});else if("has_key"===n.type&&"value"in n){var a=n.value;null!==o&&("object"!==I(o)||Array.isArray(o)||Object.prototype.hasOwnProperty.call(o,a))||this.violations.push({position:e.position,index:this.executionTree.length,constraint:n})}}else console.warn("Variable name is not in stack for constraint validation.")}else console.warn("nextVarStack missing while validating constraints.")}}},{key:"mapCurrentLevel",value:function(t){var e=this,r=t.abstraction_meta;if(this.abstractionStack.length>0){var n=function(){var t=!1;if(e.currentAbstraction.abstractions.forEach((function(e,n){t=e.id===r||t})),t)return 1;e.abstractionStack.pop();var n=e.abstractionStack.length-1;e.currentAbstraction=e.abstractionStack[n].value};do{if(n())break}while(this.abstractionStack.length>0);this.currentAbstraction.abstractions.forEach((function(n,i){n.id===r&&("abstractions"in n?(e.addToExecutionTree(n,!0,t),e.abstractionStack.push({value:n}),e.currentAbstraction=n):"function_call"===n.type?(e.addToExecutionTree(n,!0,t),e.abstractionStack.push({parent:n.target,value:e.map[n.target]}),e.currentAbstraction=e.map[n.target]):e.addToExecutionTree(n,!1,t))}))}}},{key:"addToExecutionTree",value:function(t,e,r){var n=this.mapExecutionToFunctionalAbstractions(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},r));Object.assign(t,this.sdgMeta[t.id]),this.validateConstraints(t,r);var i={level:this.abstractionStack.length,intent:this.replacePlaceHoldersInIntent(t,r.currVarStack),collapsible:e,collapsed:!1,index:this.executionTree.length,filePath:r.getFilePath(),fileName:r.getFileName(),lineno:r.getLineNo(),threadId:r.threadId,position:r.position,abstractionId:r.abstraction_meta,abstractionType:t.type,designAbstraction:n};this.executionTree.push(i);var o=this.functionalBlocks.length-1;o>=0&&this.functionalBlocks[o].execution.push(i),this.printTreeToConsole&&this.printLevel(this.abstractionStack.length,t.intent)}},{key:"replacePlaceHoldersInIntent",value:function(t,e){var r=t.variables;if(!r||0==r.length)return t.intent;if(!e)return console.warn("Valid VAR stack was not provided for replacing placholders in intent."),t.intent;var n=t.intent;return r.forEach((function(t){var r=t.scope;if("local"===r&&t.name in e[0])t.value=e[0][t.name];else{if("global"!==r||!(t.name in e[1]))return console.warn("Did not find variable value to replace placeholder."),n;t.value=e[1][t.name]}if(t&&t.value&&"key"in t&&t.key in t.value)t.value=t.value[t.key];else if("key"in t)return console.warn("Unable to access key of variable to replace placeholder."),n;n=n.replace(t.placeholder,t.value)})),n}},{key:"printLevel",value:function(t,e){for(var r="",n=0;n<t;n++)r+="   ";r+=e,console.log(r)}}],e&&B(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function G(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function D(t){var e=function(t){if("object"!=C(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:e+""}const K=function(){return t=function t(e,r){var n,i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.exception=null,this.header={},this.execution=[],this.callStacks={},this.globalVariables={},this.threadId=r,this.inputs=[],this.outputs=[],this._processLog(e),this.lastStatement=this._getLastStatement(),this.firstStatement=this._getFirstStatement(),this.currPosition=this.lastStatement,this.map=this.getExecutionTree(this.currPosition),null!==(n=this.map)&&void 0!==n&&n.executionTree&&(this.executionTree=this.map.executionTree),null!==(i=this.map)&&void 0!==i&&i.designMap&&(this.map.mapFunctionalAbstractionToBehavior(),this.behavior=this.map.behavioralTree,this.exception)){var o=this.behavior.length-1;this.behavior[o].exception=this.exception}},(e=[{key:"_processLog",value:function(t){var e=0;do{var r=t[e],n=r["user-generated"];switch(n.timestamp=r["auto-generated"].timestamp,n.level=r["auto-generated"].level,this.execution.push(n),n.type){case"adli_header":this.header=new P(n.header);break;case"adli_execution":this._getStackPositions(n);break;case"adli_variable":this._saveGlobalVariables(n);break;case"adli_exception":this.exception=n.value;break;case"adli_input":this.inputs.push(n.value);break;case"adli_output":this.outputs.push(n.value)}}while(++e<t.length)}},{key:"_getStackPositions",value:function(t){var e=this.execution.length-1;this.callStacks[e]=[];for(var r=Object.keys(t.stack).reverse(),n=0;n<r.length;n++){var i=r[n],o=t.stack[i];if(0!=n){var a=this.header.getLtFromInjectedLineno(o.filename,o.lineno);if(null!==a)for(;e>0;){var s=this.execution[e];if("adli_execution"===(null==s?void 0:s.type)&&s.value===a.id){this.callStacks[this.execution.length-1].push(e);break}e--}else console.error("Failed to find log type info for ".concat(o.filename,":").concat(o.lineno,"                     at stack position ").concat(n))}else this.callStacks[this.execution.length-1].push(e)}this.callStacks[this.execution.length-1].reverse()}},{key:"_saveGlobalVariables",value:function(t){var e=this.header.variableMap[t.varid];0===this.header.logTypeMap[e.logType].getfId()&&(this.globalVariables[e.name]=t.value)}},{key:"_updateVariable",value:function(t,e,r,n){if(0==t.keys.length)r[t.name]=e;else{for(var i=(t.name in r?Object.assign({},r[t.name]):{}),o=i,a=0;a<t.keys.length;a++){var s,u=t.keys[a];(s="variable"===u.type?r[u.value]:"temp_variable"===u.type?n[u.value]:u.value)in o&&"object"===C(o[s])||(o[s]={}),a===t.keys.length-1?Array.isArray(e)?o[s]=G(e):null!==e&&"object"==C(e)?o[s]=Object.assign({},e):o[s]=null==e?e:e.valueOf():o=o[s]}r[t.name]=Object.assign({},i)}}},{key:"getVariablesAtPosition",value:function(t){var e={},r={},n={},i=this.execution[t].scope_uid,o=0;do{var a=this.execution[o];if(null!=a&&a.type&&"adli_variable"==a.type){var s=this.header.variableMap[a.varid],u=a.scope_uid;s.isTemp?n[s.name]=a.value:"global"==u||s.isGlobal()?this._updateVariable(s,a.value,r,n):u===i&&this._updateVariable(s,a.value,e,n)}}while(++o<=t);return[e,r]}},{key:"_getPreviousPosition",value:function(t){for(;--t>=0;)if("adli_execution"===this.execution[t].type)return t;return null}},{key:"_getNextPosition",value:function(t){for(;++t<this.execution.length;)if("adli_execution"===this.execution[t].type)return t;return null}},{key:"getCallStackAtPosition",value:function(t){var e=this,r=this.callStacks[t],n=[];return r.forEach((function(t,r){if(t){var i=e.execution[t],o=e.header.logTypeMap[i.value],a=e.header.logTypeMap[o.getfId()],s=0===o.getfId()?"<module>":a.getFuncName(),u=t===e.lastStatement?e.exception:null;n.push({threadId:e.threadId,functionName:s,filePath:o.getFilePath(),fileName:o.getFileName(),lineno:o.getLineNo(),position:t,exceptions:u})}})),n}},{key:"getPositionData",value:function(t){t=t<this.firstStatement?this.firstStatement:t;do{var e=this.execution[t];if("adli_execution"===e.type)return{currLtInfo:this.header.logTypeMap[e.value],threadId:this.threadId,callStack:this.getCallStackAtPosition(t).reverse(),exceptions:this.exception}}while(--t>0);return null}},{key:"getExecutionTree",value:function(t){if(!this.header.hasAbstractionMap())return console.log("Trace file does not have an abstraction map"),null;var e=this.header.getSDG(),r=this.header.getSDGMeta(),n=this.header.getDesignMap();if(!e||!r)return console.log("Trace file is missing required SDG data or metadata"),null;var i,o=new F(e,r,n),a=0;do{var s=this.execution[a];if("adli_execution"===s.type){var u=this.header.logTypeMap[s.value];u.threadId=this.threadId,u.position=a,u.timestamp=s.timestamp,u.currVarStack=this.getVariablesAtPosition(a),u.nextVarStack=null;for(var c=this._getNextPosition(a);null!==c;){var l=this.execution[c];if(this.header.logTypeMap[l.value].getfId()===u.getfId()){u.nextVarStack=this.getVariablesAtPosition(c);break}c=this._getNextPosition(c)}o.mapCurrentLevel(u)}}while(a++<t);if(this.exception&&o.executionTree.length>0){var h=o.executionTree.length,f=o.executionTree[h-1];f.exception=this.exception,i=f.abstractionId}if(o.violations.length>0){for(var p=[],v=0;v<o.violations.length;v++){var d,y=o.violations[v];null!==(d=y.constraint)&&void 0!==d&&null!==(d=d.failures)&&void 0!==d&&d.includes(i)&&p.push(y)}for(var g=0;g<p.length;g++){var b=p[g];o.executionTree[b.index].rootCause=!0,o.executionTree[b.index].violation=b}if(this.exception&&p.length>0&&o.executionTree.length>0){var m=o.executionTree[o.executionTree.length-1],k=m.abstractionId,w=[];p.forEach((function(t,e){var r,n=null===(r=t.constraint)||void 0===r?void 0:r.rootcause;if(n&&k in n){var i=n[k];w.push({index:t.index,cause:i})}})),m.violations=p,m.failureInfo=w}}return o}},{key:"_getLastStatement",value:function(){var t=this.execution.length-1;do{if("adli_execution"===this.execution[t].type)return t}while(--t>=0)}},{key:"_getFirstStatement",value:function(){var t=0;do{if("adli_execution"===this.execution[t].type)return t}while(++t<this.execution.length)}}])&&V(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W(n.key),n)}}function W(t){var e=function(t){if("object"!=U(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==U(e)?e:e+""}const Y=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.thread=new K(e,r),this.position=this.thread.lastStatement},(e=[{key:"getStack",value:function(){return this.thread.getPositionData(this.position)}},{key:"getVariables",value:function(t){return this.thread.getVariablesAtPosition(t)}},{key:"goToPosition",value:function(t){this.position=t}},{key:"goToStart",value:function(){this.position=this.thread.firstStatement}},{key:"goToEnd",value:function(){this.position=this.thread.lastStatement}},{key:"stepInto",value:function(t){var e=this.thread._getNextPosition(t);if(null!=e){var r=this.thread.getCallStackAtPosition(e);this.position=r[r.length-1].position}}},{key:"stepOut",value:function(t){if(this.thread.executionTree){var e=this.thread.executionTree.findIndex((function(e){return e.position===t}));if(-1===e)return void console.warn("Current position was not found in semantic execution graph");for(var r=this.thread.executionTree[e].level,n=e-1;n>=0;n--){var i=this.thread.executionTree[n];if(i.level<r){this.position=i.position;break}}}else{var o=this.thread.getCallStackAtPosition(t);if(o.length<=1)return;this.position=o[o.length-2].position}}},{key:"stepOverForward",value:function(t){if(this.thread.executionTree){var e=this.thread.executionTree.findIndex((function(e){return e.position===t}));if(-1===e)return void console.warn("Current position was not found in semantic execution graph");for(var r=this.thread.executionTree[e].level,n=this.thread.executionTree.length,i=e+1;i<n;i++){var o=this.thread.executionTree[i];if(o.level<=r){this.position=o.position;break}}}else for(var a=this.thread.getCallStackAtPosition(t);t<this.thread.execution.length;){if(null==(t=this.thread._getNextPosition(t)))return;if(this.thread.getCallStackAtPosition(t).length<=a.length)return void(this.position=t)}}},{key:"stepOverBackward",value:function(t){if(this.thread.executionTree){var e=this.thread.executionTree.findIndex((function(e){return e.position===t}));if(-1===e)return void console.warn("Current position was not found in semantic execution graph");for(var r=this.thread.executionTree[e].level,n=e-1;n>=0;n--){var i=this.thread.executionTree[n];if(i.level<=r){this.position=i.position;break}}}else for(var o=this.thread.getCallStackAtPosition(t);t>=0;){if(null==(t=this.thread._getPreviousPosition(t)))return;if(this.thread.getCallStackAtPosition(t).length<=o.length)return void(this.position=t)}}}])&&H(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function z(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=q(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function q(t,e){if(t){if("string"==typeof t)return J(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(t,e):void 0}}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function X(){X=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r,n){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(e,r,n,i){var o=r&&r.prototype instanceof f?r:f,a=Object.create(o.prototype);return u(a,"_invoke",function(e,r,n){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=w(s,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===i)throw i=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=3;var c=l(e,r,n);if("normal"===c.type){if(i=n.done?4:2,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=4,n.method="throw",n.arg=c.arg)}}}(e,n,new S(i||[])),!0),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var h={};function f(){}function p(){}function v(){}var d={};u(d,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(O([])));g&&g!==r&&n.call(g,o)&&(d=g);var b=v.prototype=f.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==$(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;u(this,"_invoke",(function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function w(e,r){var n=r.method,i=e.i[n];if(i===t)return r.delegate=null,"throw"===n&&e.i.return&&(r.method="return",r.arg=t,w(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=l(i,e.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var a=o.arg;return a?a.done?(r[e.r]=a.value,r.next=e.n,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(t){this.tryEntries.push(t)}function x(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function S(t){this.tryEntries=[[-1]],t.forEach(T,this),this.reset(!0)}function O(e){if(null!=e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError($(e)+" is not iterable")}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},m(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new k(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.unshift(n);return function t(){for(;r.length;)if((n=r.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(t){a.type="throw",a.arg=e,r.next=t}for(var i=r.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,u=o[1],c=o[2];if(-1===o[0])return n("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<u)return this.method="next",this.arg=t,n(u),!0;if(s<c)return n(c),!1}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var i=n;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[2]===t)return this.complete(r[4],r[3]),x(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r[0]===t){var n=r[4];if("throw"===n.type){var i=n.arg;x(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={i:O(e),r,n},"next"===this.method&&(this.arg=t),h}},e}function Q(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tt(n.key),n)}}function tt(t){var e=function(t){if("object"!=$(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:e+""}const et=function(){return t=function t(e,r){var i,a,u,l,h=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,u=function(){h.breakpoints=[],postMessage({code:o.BREAKPOINTS,args:{breakpoints:h.breakpoints}})},(a=tt(a="clearBreakpoints"))in i?Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[a]=u,(l=e,new Promise(function(){var t=c(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l instanceof File?y(l).then((function(t){e(t)})).catch((function(t){r(t)})):"string"==typeof l?d(l).then((function(t){e(t)})).catch((function(t){r(t)})):r(new Error("Invalid file"));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())).then(function(){var t,e=(t=X().mark((function t(e){var i,o,a,s,u;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.A)();case 2:i=t.sent,o=new i.ClpStreamReader(e,{timestampKey:{isAutoGenerated:!0,parts:["timestamp","unix_millisecs"]},logLevelKey:{isAutoGenerated:!0,parts:["level","name"]}}),a=o.decodeRange(0,o.deserializeStream(),!1),h.parseLogAndInitializeDebugger(a),r?r<0||r>=a.length?(console.debug("The provided execution index is out of bounds."),console.debug("Going to end of the program."),h.replayProgram()):(s=h.masterList[r].threadId,u=h.masterList[r].position-1,h.debuggers[s].thread.getPositionData(u)):h.replayProgram();case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Q(o,n,i,a,s,"next",t)}function s(t){Q(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}())},(e=[{key:"parseLogAndInitializeDebugger",value:function(t){var e=this;this.threads={},this.debuggers={},this.masterList=[];var r=JSON.parse(t[0][0]),n=r["user-generated"].header;this.header=new P(n),this.firstThread=null;var i=1;do{var a=JSON.parse(t[i][0]),s=a["user-generated"].thread;s in this.threads||(this.threads[s]=[r]),this.threads[s].push(a),this.masterList.push({threadId:s,position:this.threads[s].length-1,log:a}),null==this.firstThread&&(this.firstThread=s),this.lastThread=s}while(++i<t.length);Object.keys(this.threads).forEach((function(t,r){e.debuggers[t]=new Y(e.threads[t],t)})),this.currentThread=Object.keys(this.threads)[0],this.cdl=this.debuggers[this.currentThread],this.breakpoints=[],console.info(this.cdl),console.info(this.debuggers),postMessage({code:o.GET_METADATA,args:{fileTree:this.header.getSourceFiles()}}),this.sendExecutionTree()}},{key:"getMasterPosFromThreadPos",value:function(t,e){var r=0;do{var n=this.masterList[r],i=n.position;if(String(n.threadId)==String(e)&&i==t)return r}while(++r<this.masterList.length);return null}},{key:"sendStackInformation",value:function(t){var e=Object.keys(this.debuggers),r=this.debuggers[t].position,n={},i=this.getMasterPosFromThreadPos(r,t);do{var a=this.masterList[i],s=a.log["user-generated"].type,u=String(a.log["user-generated"].thread);"adli_execution"===s&&e.includes(u)&&(this.debuggers[u].position=a.position,e.splice(e.indexOf(u),1),n[u]={main:u==t,stack:this.debuggers[u].getStack()}),i--}while(i>0&&e.length>0);postMessage({code:o.GET_POSITION_DATA,args:n})}},{key:"sendExecutionTree",value:function(){for(var t in this.debuggers)if(t){var e=this.debuggers[t];if(e.thread.executionTree){postMessage({code:o.GET_EXECUTION_TREE,args:{executionTree:e.thread.executionTree,behavior:e.thread.behavior}});break}}}},{key:"getVariableStack",value:function(t,e){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||q(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.debuggers[e].getVariables(t),2),n=r[0],i=r[1];postMessage({code:o.GET_VARIABLE_STACK,args:{localVariables:n,globalVariables:i}})}},{key:"goToStart",value:function(){var t=this.debuggers[this.firstThread];t.position=t.thread.firstStatement,this.sendStackInformation(this.firstThread)}},{key:"goToEnd",value:function(){var t=this.debuggers[this.lastThread];t.position=t.thread.lastStatement,this.sendStackInformation(this.lastThread)}},{key:"stepInto",value:function(t,e){this.debuggers[e].stepInto(t),this.sendStackInformation(e)}},{key:"stepOut",value:function(t,e){this.debuggers[e].stepOut(t),this.sendStackInformation(e)}},{key:"stepOverForward",value:function(t,e){this.debuggers[e].stepOverForward(t),this.sendStackInformation(e)}},{key:"stepOverBackward",value:function(t,e){this.debuggers[e].stepOverBackward(t),this.sendStackInformation(e)}},{key:"goToPosition",value:function(t,e){this.debuggers[e].goToPosition(t),this.sendStackInformation(e)}},{key:"replayProgram",value:function(){this.playForward(0,this.firstThread)}},{key:"playForward",value:function(t,e){var r=this.getMasterPosFromThreadPos(t,e);if(r!=this.masterList.length-1){do{r++;var n=this.masterList[r],i=n.position,o=n.threadId,a=n.log,s=this.debuggers[o];if("adli_execution"==a["user-generated"].type){var u,c=a["user-generated"].value,l=z(this.breakpoints);try{for(l.s();!(u=l.n()).done;){var h=u.value;if(h.enabled&&h.id===c)return s.position=i,void this.sendStackInformation(o)}}catch(t){l.e(t)}finally{l.f()}}}while(r<this.masterList.length-1);this.debuggers[this.lastThread].goToEnd(),this.sendStackInformation(this.lastThread)}}},{key:"playBackward",value:function(t,e){var r=this.getMasterPosFromThreadPos(t,e);if(0!=r){do{r--;var n=this.masterList[r],i=n.position,o=n.threadId,a=n.log,s=this.debuggers[o];if("adli_execution"==a["user-generated"].type){var u,c=a["user-generated"].value,l=z(this.breakpoints);try{for(l.s();!(u=l.n()).done;){var h=u.value;if(h.enabled&&h.id===c)return s.position=i,void this.sendStackInformation(o)}}catch(t){l.e(t)}finally{l.f()}}}while(r>0);this.debuggers[this.firstThread].goToStart(),this.sendStackInformation(this.firstThread)}}},{key:"toggleBreakpoint",value:function(t,e){var r=this.header.getLogTypeFromLineNumber(t,e);null!==r&&(this.breakpoints.includes(r)?this.breakpoints.splice(this.breakpoints.indexOf(r),1):(r.enabled=!0,this.breakpoints.push(r)),postMessage({code:o.BREAKPOINTS,args:{breakpoints:this.breakpoints}}))}},{key:"toggleBreakpointEnabled",value:function(t,e){var r=this.header.getLogTypeFromLineNumber(t,e);if(null!==r){var n=this.breakpoints.indexOf(r);-1!==n?(this.breakpoints[n].enabled=!this.breakpoints[n].enabled,postMessage({code:o.BREAKPOINTS,args:{breakpoints:this.breakpoints}})):console.warn("Breakpoint not in active breakpoints list")}else console.warn("Breakpoint not found")}}])&&Z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();var rt;onmessage=function(t){try{var e,r=null!=t&&null!==(e=t.data)&&void 0!==e&&e.args?t.data.args:{};switch(t.data.code){case o.LOAD_FILE:rt=new et(r.fileInfo,r.executionIndex);break;case o.GET_VARIABLE_STACK:rt.getVariableStack(r.position,r.threadId);break;case o.GO_TO_POSITION:rt.goToPosition(r.position,r.threadId);break;case o.STEP_INTO:rt.stepInto(r.position,r.threadId);break;case o.STEP_OUT:rt.stepOut(r.position,r.threadId);break;case o.STEP_OVER_FORWARD:rt.stepOverForward(r.position,r.threadId);break;case o.STEP_OVER_BACKWARD:rt.stepOverBackward(r.position,r.threadId);break;case o.GO_TO_START:rt.goToStart();break;case o.GO_TO_END:rt.goToEnd();break;case o.PLAY_BACKWARD:rt.playBackward(r.position,r.threadId);break;case o.PLAY_FORWARD:rt.playForward(r.position,r.threadId);break;case o.REPLAY:rt.replayProgram();break;case o.TOGGLE_BREAKPOINT:rt.toggleBreakpoint(r.fileName,r.lineNumber);break;case o.TOGGLE_BREAKPOINT_ENABLED:rt.toggleBreakpointEnabled(r.fileName,r.lineNumber);break;case o.CLEAR_BREAKPOINTS:rt.clearBreakpoints()}}catch(t){console.error(t)}},onerror=function(t){console.debug(t)}}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var o=n[t]={id:t,exports:{}};return r[t].call(o.exports,o,o.exports,i),o.exports}i.m=r,i.x=()=>{var t=i.O(void 0,[96],(()=>i(83247)));return i.O(t)},i.amdO={},t=[],i.O=(e,r,n,o)=>{if(!r){var a=1/0;for(l=0;l<t.length;l++){for(var[r,n,o]=t[l],s=!0,u=0;u<r.length;u++)(!1&o||a>=o)&&Object.keys(i.O).every((t=>i.O[t](r[u])))?r.splice(u--,1):(s=!1,o<a&&(a=o));if(s){t.splice(l--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[r,n,o]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,r)=>(i.f[r](t,e),e)),[])),i.u=t=>"vendors.f0639c782679c38709c9.bundle.js",i.miniCssF=t=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.j=247,(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{i.b=self.location+"";var t={247:1};i.f.i=(e,r)=>{t[e]||importScripts(i.p+i.u(e))};var e=self.webpackChunkdiagnostic_log_viewer=self.webpackChunkdiagnostic_log_viewer||[],r=e.push.bind(e);e.push=e=>{var[n,o,a]=e;for(var s in o)i.o(o,s)&&(i.m[s]=o[s]);for(a&&a(i);n.length;)t[n.pop()]=1;r(e)}})(),i.nc=void 0,e=i.x,i.x=()=>i.e(96).then(e),i.x()})();
//# sourceMappingURL=247.4ffb60c68ef6193744ac.bundle.js.map