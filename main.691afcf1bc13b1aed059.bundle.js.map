{"version":3,"file":"main.691afcf1bc13b1aed059.bundle.js","mappings":"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","sources":["webpack://diagnostic-log-viewer/./src/Components/DropFile/DropFile.js","webpack://diagnostic-log-viewer/./src/Services/CDL_WORKER_PROTOCOL.js","webpack://diagnostic-log-viewer/./src/Providers/ActionsContext.js","webpack://diagnostic-log-viewer/./src/Providers/ActiveFileContext.js","webpack://diagnostic-log-viewer/./src/Providers/BreakpointsContext.js","webpack://diagnostic-log-viewer/./src/Providers/ExecutionTreeContext.js","webpack://diagnostic-log-viewer/./src/Providers/FileTreeContext.js","webpack://diagnostic-log-viewer/./src/Providers/GlobalVariablesContext.js","webpack://diagnostic-log-viewer/./src/Providers/StackContext.js","webpack://diagnostic-log-viewer/./src/Providers/StackPositionContext.js","webpack://diagnostic-log-viewer/./src/Providers/ThreadsContext.js","webpack://diagnostic-log-viewer/./src/Providers/VariablesContext.js","webpack://diagnostic-log-viewer/./src/Providers/WorkerContext.js","webpack://diagnostic-log-viewer/./src/Providers/CDLProviders.js","webpack://diagnostic-log-viewer/./src/Components/MonacoInstance/helper.js","webpack://diagnostic-log-viewer/./src/Components/MonacoInstance/MonacoInstance.js","webpack://diagnostic-log-viewer/./src/Components/Tabs/Tab/Tab.js","webpack://diagnostic-log-viewer/./src/Components/Tabs/Tabs.js","webpack://diagnostic-log-viewer/./src/Components/CentralContainer/CentralContainer.js","webpack://diagnostic-log-viewer/./src/Components/CentralContainer/VerticalHandle/VerticalHandle.js","webpack://diagnostic-log-viewer/./src/Components/DebugToolKit/DebugToolKit.js","webpack://diagnostic-log-viewer/./src/Components/DebugToolKit/DebugToolKitSemantic.js","webpack://diagnostic-log-viewer/./src/Components/DebugContainer/BreakPointContainer/BreakPointRow/BreakPointRow.js","webpack://diagnostic-log-viewer/./src/Components/DebugContainer/BreakPointContainer/BreakPointContainer.js","webpack://diagnostic-log-viewer/./src/Components/DebugContainer/CallStackContainer/CallStackRow/CallStackRow.js","webpack://diagnostic-log-viewer/./src/Components/DebugContainer/CallStackContainer/CallStackContainer.js","webpack://diagnostic-log-viewer/./src/Components/DebugContainer/VariableStackContainer/VariableStackContainer.js","webpack://diagnostic-log-viewer/./src/Components/DebugContainer/VerticalHandle/VerticalHandle.js","webpack://diagnostic-log-viewer/./src/Components/DebugContainer/DebugContainerSemantic.js","webpack://diagnostic-log-viewer/./src/Viewer/RightSideContainer/RightSideContainer.js","webpack://diagnostic-log-viewer/./src/Components/ExecutionTree/ExecutionTreeInstanceContext.js","webpack://diagnostic-log-viewer/./src/Components/ExecutionTree/ExecutionNode/ExecutionNode.js","webpack://diagnostic-log-viewer/./src/Components/ExecutionTree/ExecutionTree.js","webpack://diagnostic-log-viewer/./src/Components/SettingsContainer/SettingsContainer.js","webpack://diagnostic-log-viewer/./src/Components/ShortcutContainer/ShortcutContainer.js","webpack://diagnostic-log-viewer/./src/Viewer/SideContainer/SideContainerGraph.js","webpack://diagnostic-log-viewer/./src/Components/BehavioralTree/BehavioralTreeInstanceContext.js","webpack://diagnostic-log-viewer/./src/Components/BehavioralTree/BehavioralNode/BehavioralNode.js","webpack://diagnostic-log-viewer/./src/Components/BehavioralTree/BehavioralTree.js","webpack://diagnostic-log-viewer/./src/Components/BehavioralExecutionTree/BehavioralExecutionTreeInstanceContext.js","webpack://diagnostic-log-viewer/./src/Components/BehavioralExecutionTree/BehavioralExecutionNode/BehavioralExecutionNode.js","webpack://diagnostic-log-viewer/./src/Components/BehavioralExecutionTree/BehavioralExecutionTree.js","webpack://diagnostic-log-viewer/./src/Components/AbstractionContainer/RootCauseContainer/RootCauseContainer.js","webpack://diagnostic-log-viewer/./src/Components/AbstractionContainer/VerticalHandle/VerticalHandle.js","webpack://diagnostic-log-viewer/./src/Components/AbstractionContainer/AbstractionContainer.js","webpack://diagnostic-log-viewer/./src/Viewer/SideContainer/SideContainerSemantic.js","webpack://diagnostic-log-viewer/./src/Components/DebugContainer/DebugContainer.js","webpack://diagnostic-log-viewer/./src/Viewer/SideContainer/SideContainerStack.js","webpack://diagnostic-log-viewer/./src/Components/StatusBar/StatusBarMenu/StatusBarMenu.js","webpack://diagnostic-log-viewer/./src/Components/StatusBar/StatusBar.js","webpack://diagnostic-log-viewer/./src/Viewer/StatusBarContainer/StatusBarContainer.js","webpack://diagnostic-log-viewer/./src/Viewer/Viewer.js","webpack://diagnostic-log-viewer/./src/App.js","webpack://diagnostic-log-viewer/./src/index.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\n\nimport PropTypes, {oneOfType} from \"prop-types\";\nimport {Row} from \"react-bootstrap\";\nimport {FileEarmarkText} from \"react-bootstrap-icons\";\nimport ReactDOMServer from \"react-dom/server\";\n\nimport \"./DropFile.scss\";\n\nDropFile.propTypes = {\n    children: oneOfType([PropTypes.array, PropTypes.bool, PropTypes.object]),\n    handleFileDrop: PropTypes.func,\n};\n\n/**\n * Callback for when a file is dropped on the element\n * @callback FileDropCallback\n * @param {File} file\n */\n\n/**\n * A container element to add drag & drop functionality to the child elements.\n * @param {JSX.Element[]} children Child elements\n * @param {FileDropCallback} handleFileDrop Handler for a file being dropped on\n * the child elements.\n * @return {JSX.Element}\n */\nexport default function DropFile ({children, handleFileDrop}) {\n    const [hasChildren, setHasChildren] = useState(false);\n    const [dragging, setDragging] = useState(false);\n\n    const selectFileEl = useRef();\n\n    useEffect(() => {\n        // Indicates if this component has any children\n        // TODO Check if the child element is a Viewer component\n        setHasChildren(Boolean(ReactDOMServer.renderToStaticMarkup(children)));\n    }, [children]);\n\n    /**\n     * Handler for a drag event\n     *\n     * @param {DragEvent} e\n     */\n    const handleDrag = function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (\"dragenter\" === e.type || \"dragover\" === e.type) {\n            setDragging(true);\n        } else if (\"dragleave\" === e.type) {\n            setDragging(false);\n        }\n    };\n\n    /**\n     * Handler for a drop event. handleFileDrop callback is used\n     * to load the dropped file into the viewer.\n     *\n     * @param {DragEvent} e\n     */\n    const handleDrop = function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        setDragging(false);\n        if (e.dataTransfer.files.length > 0 && e.dataTransfer.files[0]) {\n            handleFileDrop(e.dataTransfer.files[0]);\n        }\n    };\n\n    /**\n     * Triggers the file input dialog when selectFileEl is clicked\n     */\n    const openFile = () => {\n        selectFileEl.current.click();\n    };\n\n    /**\n     * Callback once file is selected from file input dialog\n     * @param {File} e\n     */\n    const loadFile = (e) => {\n        handleFileDrop(e.target.files[0]);\n    };\n\n\n    /**\n     * Returns JSX to be rendered if there are no child components to allow\n     * the user to load a file.\n     *\n     * @return {JSX.Element}\n     */\n    const getLoadFileJSX = () => {\n        return (\n            <div data-theme={\"dark\"} className=\"upload-wrapper\">\n                <h3 className=\"heading\">Diagnostic Log Viewer</h3>\n                <div className=\"upload-container\">\n                    <FileEarmarkText size={\"100px\"} className=\"pb-4\"/>\n                    <Row className=\"text-center d-flex flex-column\">\n                        <input ref={selectFileEl} type=\"file\" onChange={loadFile}\n                            className=\"visually-hidden\"/>\n                        <a onClick={openFile} className=\"text-center\" href=\"#\">\n                            Select Log File\n                        </a>\n                        <span>or</span>\n                        <span>Drag and Drop File</span>\n                    </Row>\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"drag-container\" onDragEnter={handleDrag}>\n            {dragging &&\n                <>\n                    <div className=\"drag-wrapper\">\n                        <FileEarmarkText size={\"50px\"}/>\n                        <h3 className=\"ms-3\">Drop File to View</h3>\n                    </div>\n                    <div\n                        className=\"drop-container\"\n                        onDragEnter={handleDrag}\n                        onDragLeave={handleDrag}\n                        onDragOver={handleDrag}\n                        onDrop={handleDrop}\n                    />\n                </>\n            }\n            {hasChildren\n                ? <>{children}</>\n                : <>{getLoadFileJSX()}</>\n            }\n        </div>\n    );\n}\n","let CDL_WORKER_PROTOCOL = {\n    LOAD_FILE: 1,\n    GET_METADATA: 2,\n    GET_POSITION_DATA: 3,\n    GET_VARIABLE_STACK: 4,\n    GET_THREADS: 5,\n    STEP_INTO: 6,\n    STEP_OUT: 7,\n    STEP_OVER_FORWARD: 8,\n    STEP_OVER_BACKWARD: 9,\n    GO_TO_START: 10,\n    GO_TO_END: 11,\n    TOGGLE_BREAKPOINT: 12,\n    BREAKPOINTS: 13,\n    PLAY_FORWARD: 14,\n    PLAY_BACKWARD: 15,\n    REPLAY: 16,\n    TOGGLE_BREAKPOINT_ENABLED: 17,\n    GET_EXECUTION_TREE: 18,\n    GO_TO_POSITION: 19,\n    CLEAR_BREAKPOINTS: 20,\n};\nCDL_WORKER_PROTOCOL = Object.freeze(CDL_WORKER_PROTOCOL);\n\nexport default CDL_WORKER_PROTOCOL;\n","import {createContext} from \"react\";\n\n/**\n * Currently this simply stores the actions that\n * were triggered by the keyboard shortcuts.\n * \n * This will be extended in the future, there are\n * a lot of things we can do like storing the\n * history of all the actions, not just keyboard\n * but even mouse actions and allow the user to\n * undo certain actions.\n */\nconst ActionsContext = createContext();\n\nexport default ActionsContext;\n","import {createContext} from \"react\";\n\n// This context stores the name of the file currently being viewed.\nconst ActiveFileContext = createContext();\n\nexport default ActiveFileContext;\n","import {createContext} from \"react\";\n\n// This context stores the breakpoints in this program.\n// It is consumed by the monaco instance component.\nconst BreakpointsContext = createContext();\n\nexport default BreakpointsContext;\n","import {createContext} from \"react\";\n\n// This context stores a reference to the execution tree.\nconst ExecutionTreeContext = createContext();\n\nexport default ExecutionTreeContext;\n","import {createContext} from \"react\";\n\n// This context stores the file tree which has the source\n// code for each of the files in the program.\nconst FileTreeContext = createContext();\n\nexport default FileTreeContext;\n","import {createContext} from \"react\";\n\n// This context stores the global variables for this program.\n// It is consumed by the variables container.\nconst GlobalVariablesContext = createContext();\n\nexport default GlobalVariablesContext;\n","import {createContext} from \"react\";\n\n// This context stores the current stack for the given position.\nconst StackContext = createContext();\n\nexport default StackContext;\n","import {createContext} from \"react\";\n\n// This context stores the current position in the stack.\nconst StackPositionContext = createContext();\n\nexport default StackPositionContext;\n","import {createContext} from \"react\";\n\nconst ThreadsContext = createContext();\n\nexport default ThreadsContext;\n","import {createContext} from \"react\";\n\n// This context stores the variables for the current stack position.\n// It is consumed by the variables container.\nconst VariablesContext = createContext();\n\nexport default VariablesContext;\n","import {createContext} from \"react\";\n\n// This context stores a reference to the current worker.\n// It is consumed by child components which need to send messages to the worker.\nconst WorkerContext = createContext();\n\nexport default WorkerContext;\n","import React, {useCallback, useEffect, useRef, useState} from \"react\";\n\nimport PropTypes from \"prop-types\";\n\nimport CDL_WORKER_PROTOCOL from \"../Services/CDL_WORKER_PROTOCOL\";\nimport ActionsContext from \"./ActionsContext\";\nimport ActiveFileContext from \"./ActiveFileContext\";\nimport BreakpointsContext from \"./BreakpointsContext\";\nimport ExecutionTreeContext from \"./ExecutionTreeContext\";\nimport FileTreeContext from \"./FileTreeContext\";\nimport GlobalVariablesContext from \"./GlobalVariablesContext\";\nimport StackContext from \"./StackContext\";\nimport StackPositionContext from \"./StackPositionContext\";\nimport ThreadsContext from \"./ThreadsContext\";\nimport VariablesContext from \"./VariablesContext\";\nimport WorkerContext from \"./WorkerContext\";\n\nCDLProviders.propTypes = {\n    children: PropTypes.object,\n    fileInfo: PropTypes.string,\n    executionIndex: PropTypes.number,\n};\n\n/**\n * Provides all contexts consumed by the application.\n * @param {JSX} children\n * @param {String} fileInfo\n * @param {Number} executionIndex\n * @return {JSX}\n */\nfunction CDLProviders ({children, fileInfo, executionIndex}) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [activeFile, setActiveFile] = useState();\n    const [stacks, setStacks] = useState();\n    const [activeThread, setActiveThread] = useState();\n    const [stackPosition, setStackPosition] = useState();\n    const [localVariables, setLocalVariables] = useState();\n    const [globalVariables, setGlobalVariables] = useState();\n    const [fileTree, setFileTree] = useState();\n    const [breakPoints, setBreakPoints] = useState();\n    const [threads, setThreads] = useState();\n    const [activeAbstraction, setActiveAbstraction] = useState();\n    const [executionTree, setExecutionTree] = useState();\n    const [executionTreeFull, setExecutionTreeFull] = useState();\n    const [behavior, setBehavior] = useState();\n    const [rootCauses, setRootCauses] = useState();\n    const [mode, setMode] = useState(\"STACK\");\n    const [activeBehavior, setActiveBehavior] = useState();\n    const [actions, setActions] = useState({value: \"\", tick: 0});\n\n    const [semanticState, setSemanticState] = useState(\"behavior\");\n\n    const cdlWorker = useRef(null);\n\n    // Terminate worker when component is destroyed.\n    useEffect(() => {\n        return () => {\n            if (cdlWorker.current) {\n                cdlWorker.current.terminate();\n            }\n        };\n    }, []);\n\n    // Get new variable stack if stack position changes and update active file\n    useEffect(() => {\n        if (cdlWorker?.current && stackPosition !== undefined &&\n             activeThread && stacks?.[activeThread]?.stack) {\n            const stack = stacks[activeThread].stack;\n\n            if (stackPosition >= stack.callStack.length) {\n                console.warn(\"Stack position out of bounds\");\n                return;\n            }\n\n            setActiveFile(stack.callStack[stackPosition].filePath);\n            cdlWorker.current.postMessage({\n                code: CDL_WORKER_PROTOCOL.GET_VARIABLE_STACK,\n                args: {\n                    position: stack.callStack[stackPosition].position,\n                    threadId: stack.callStack[stackPosition].threadId,\n                },\n            });\n        } else {\n            console.warn(\"Invalid stack position or stack not initialized\");\n        };\n    }, [stackPosition, stacks, activeThread]);\n\n\n    useEffect(() => {\n        if (activeAbstraction && cdlWorker.current) {\n            const code = CDL_WORKER_PROTOCOL.GO_TO_POSITION;\n            const args = {\n                position: activeAbstraction.node.position,\n                threadId: activeAbstraction.node.threadId,\n            };\n            cdlWorker.current.postMessage({code: code, args: args});\n        }\n    }, [activeAbstraction]);\n\n    // Resets the state variables before loading new file.\n    const initializeStates = () => {\n        setFileTree(undefined);\n        setLocalVariables(undefined);\n        setGlobalVariables(undefined);\n        setStackPosition(undefined);\n        setActiveThread(undefined);\n        setActiveFile(undefined);\n        setBreakPoints(undefined);\n        setExecutionTree(undefined);\n        setActiveBehavior(undefined);\n        setBehavior(undefined);\n    };\n\n    // Create worker to handle file.\n    useEffect(() => {\n        if (fileInfo) {\n            // TODO: Use loading state to show loading animation.\n            setIsLoading(true);\n            initializeStates();\n            try {\n                if (cdlWorker.current) {\n                    cdlWorker.current.terminate();\n                }\n                cdlWorker.current = new Worker(\n                    new URL(\"../Services/cdlWorker.js\", import.meta.url)\n                );\n                cdlWorker.current.onmessage = handleWorkerMessage;\n                cdlWorker.current.postMessage({\n                    code: CDL_WORKER_PROTOCOL.LOAD_FILE,\n                    args: {\n                        fileInfo: fileInfo,\n                        executionIndex: executionIndex,\n                    },\n                });\n            } catch (error) {\n                console.error(\"Failed to initialize worker:\", error);\n            }\n        }\n    }, [fileInfo]);\n\n\n    /**\n     * Set the threadID of the active stack.\n     * @param {Array} _stacks\n     */\n    const setActiveStack = (_stacks) => {\n        Object.keys(_stacks).forEach((threadId, value) => {\n            if (_stacks[threadId].main) {\n                setActiveThread(threadId);\n                return;\n            }\n        });\n    };\n\n    const saveRootCauses = (executionTree) => {\n        const lastEntry = executionTree[executionTree.length - 1];\n        const rootCauses = [];\n        if (lastEntry && \"failureInfo\" in lastEntry) {\n            lastEntry[\"failureInfo\"].forEach((failure, index) => {\n                rootCauses.push(failure.cause);\n            });\n        };\n        setRootCauses(rootCauses);\n    };\n\n    // Load the program state based on the infromation available\n    const setProgramState = (args) => {\n        if (args.executionTree && args.behavior) {\n            setMode(\"BEHAVIORAL\");\n        } else if (args.executionTree) {\n            setMode(\"EXECUTION\");\n        } else {\n            setMode(\"STACK\");\n        }\n    };\n\n    // If the user chooses execution mode, load the full execution tree.\n    useEffect(() => {\n        if (mode === \"EXECUTION\") {\n            setExecutionTree(executionTreeFull);\n        }\n    }, [mode]);\n\n    /**\n     * Handles message from the worker.\n     * @param {object} event\n     */\n    const handleWorkerMessage = useCallback((event) => {\n        switch (event.data.code) {\n            case CDL_WORKER_PROTOCOL.GET_METADATA:\n                setIsLoading(false);\n                setFileTree(event.data.args.fileTree);\n                break;\n            case CDL_WORKER_PROTOCOL.GET_POSITION_DATA:\n                setStackPosition(0);\n                setStacks(event.data.args);\n                setActiveStack(event.data.args);\n                break;\n            case CDL_WORKER_PROTOCOL.GET_VARIABLE_STACK:\n                setLocalVariables(event.data.args.localVariables);\n                setGlobalVariables(event.data.args.globalVariables);\n                break;\n            case CDL_WORKER_PROTOCOL.BREAKPOINTS:\n                setBreakPoints(event.data.args.breakpoints);\n                break;\n            case CDL_WORKER_PROTOCOL.GET_EXECUTION_TREE:\n                setProgramState(event.data.args);\n                setExecutionTree(event.data.args.executionTree);\n                setExecutionTreeFull(event.data.args.executionTree);\n                setBehavior(event.data.args.behavior);\n                saveRootCauses(event.data.args.executionTree);\n                break;\n            default:\n                break;\n        }\n    });\n\n    return (\n        <StackPositionContext.Provider value={{stackPosition, setStackPosition}}>\n            <FileTreeContext.Provider value={{fileTree}}>\n                <WorkerContext.Provider value={{cdlWorker}}>\n                    <ThreadsContext.Provider value={{threads, setThreads}}>\n                        <GlobalVariablesContext.Provider value={{globalVariables}}>\n                            <VariablesContext.Provider value={{localVariables}}>\n                                <BreakpointsContext.Provider value={{breakPoints}}>\n                                    <StackContext.Provider\n                                        value={{stacks, activeThread, activeAbstraction,\n                                            setActiveThread, setActiveAbstraction}}>\n                                        <ActiveFileContext.Provider\n                                            value={{activeFile, setActiveFile}}>\n                                            <ExecutionTreeContext.Provider\n                                                value={{executionTree, setExecutionTree,\n                                                    behavior, activeBehavior, setActiveBehavior,\n                                                    semanticState, setSemanticState, rootCauses,\n                                                }}>\n                                                <ActionsContext.Provider\n                                                    value={{actions, mode, setMode, setActions}}>\n                                                    {children}\n                                                </ActionsContext.Provider>\n                                            </ExecutionTreeContext.Provider>\n                                        </ActiveFileContext.Provider>\n                                    </StackContext.Provider>\n                                </BreakpointsContext.Provider>\n                            </VariablesContext.Provider>\n                        </GlobalVariablesContext.Provider>\n                    </ThreadsContext.Provider>\n                </WorkerContext.Provider>\n            </FileTreeContext.Provider>\n        </StackPositionContext.Provider>\n    );\n};\n\nexport default CDLProviders;\n","import React from \"react\";\n\nimport * as monaco from \"monaco-editor\";\nimport {createRoot} from \"react-dom/client\";\n\n\n/**\n * This function returns a DOM node which contains the exception to be rendered\n * by the monaco instance. It also returns the number of lines to set the height\n * of the exception container.\n *\n * @param {Array} exception  Array containing the exception for the current position.\n * @return {Object}\n */\nconst getExceptionMessage = (exception) => {\n    if (!exception || !exception.length) {\n        return {\n            domNode: document.createElement(\"div\"),\n            numLines: 0,\n        };\n    }\n\n    const exceptionValue = exception.trim().split(\"\\n\").pop();\n    const exceptionMessage = [\n        <span key={0} style={{whiteSpace: \"pre-wrap\"}}>\n            {exceptionValue}\n        </span>,\n    ];\n\n    const domNode = document.createElement(\"div\");\n    domNode.className = \"exception-message\";\n    createRoot(domNode).render(\n        <div className=\"d-flex flex-column\" style={{marginTop: \"7px\", paddingLeft: \"10px\"}}>\n            {exceptionMessage}\n        </div>\n    );\n    return {\n        domNode: domNode,\n        numLines: exceptionValue.split(\"\\n\").length,\n    };\n};\n\n/**\n * Creates a line decoration object for Monaco editor.\n * \n * @param {Number} line The line number to decorate\n * @param {String} className The CSS class name for the glyph margin\n * @returns {Object} The decoration object with range and options\n */\nconst getLineDecoration = (line, className) => {\n    return {\n        range: new monaco.Range(line, 1, line, 1),\n        options: {glyphMarginClassName: className}\n    };\n};\n\nexport {getExceptionMessage, getLineDecoration};\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\n\nimport Editor, {loader} from \"@monaco-editor/react\";\nimport * as monaco from \"monaco-editor\";\n\nimport ActiveFileContext from \"../../Providers/ActiveFileContext\";\nimport BreakpointsContext from \"../../Providers/BreakpointsContext\";\nimport FileTreeContext from \"../../Providers/FileTreeContext\";\nimport StackContext from \"../../Providers/StackContext\";\nimport PositionStateContext from \"../../Providers/StackPositionContext\";\nimport WorkerContext from \"../../Providers/WorkerContext\";\nimport CDL_WORKER_PROTOCOL from \"../../Services/CDL_WORKER_PROTOCOL\";\nimport {getExceptionMessage, getLineDecoration} from \"./helper\";\n\nimport \"./MonacoInstance.scss\";\nimport \"monaco-editor/min/vs/editor/editor.main.css\";\n\n/**\n * Contains the monaco editor.\n * @return {JSX.Element}\n */\nexport function MonacoInstance () {\n    // Consume contexts\n    const {stackPosition} = useContext(PositionStateContext);\n    const {stacks, activeThread} = useContext(StackContext);\n    const {fileTree} = useContext(FileTreeContext);\n    const {breakPoints} = useContext(BreakpointsContext);\n    const {activeFile} = useContext(ActiveFileContext);\n    const {cdlWorker} = useContext(WorkerContext);\n\n    // Component State variables\n    const [zoneIds, setZoneIds] = useState([]);\n    const [breakPointDecorations, setBreakPointDecorations] = useState([]);\n    const [lineDecorations, setLineDecorations] = useState([]);\n\n    // Refs\n    // ActiveFileRef is used to access active file in callback\n    const editorRef = useRef(null);\n    const monacoRef = useRef(null);\n    const activeFileRef = useRef();\n\n\n    loader.config({monaco});\n\n    /**\n     * Called when editor is finished mounting.\n     * @param {object} editor\n     * @param {object} monaco\n     */\n    const handleEditorDidMount =(editor, monaco) => {\n        monacoRef.current = monaco;\n        editorRef.current = editor;\n        editorRef.current.onMouseDown(onMonacoMouseDown);\n        editorRef.current.onMouseMove(onMonacoMouseMove);\n        editorRef.current.onMouseLeave(onMonacoMouseLeave);\n    };\n\n    useEffect(() => {\n        activeFileRef.current = activeFile;\n        loadContent();\n    }, [activeFile, activeThread, stacks, stackPosition]);\n\n    useEffect(() => {\n        drawBreakPoints();\n    }, [breakPoints]);\n\n\n    /**\n     * Add's exceptions to the given position.\n     * @param {Number} stackPosition\n     */\n    const addException = (stackPosition) => {\n        if (stackPosition.exceptions) {\n            editorRef.current.changeViewZones(function (changeAccessor) {\n                const exceptionZoneInfo = getExceptionMessage(stackPosition.exceptions);\n                const zoneId = changeAccessor.addZone({\n                    afterLineNumber: stackPosition.lineno,\n                    heightInPx: ((exceptionZoneInfo.numLines + 1) * 18),\n                    domNode: exceptionZoneInfo.domNode,\n                });\n                setZoneIds([...zoneIds, zoneId]);\n            });\n        }\n    };\n\n    /**\n     * Clear the current exceptions.\n     */\n    const clearExceptions = () => {\n        if (zoneIds && zoneIds.length > 0) {\n            editorRef.current.changeViewZones((changeAccessor) => {\n                zoneIds.forEach((zoneId, index) => {\n                    changeAccessor.removeZone(zoneId);\n                });\n                setZoneIds([]);\n            });\n        }\n    };\n\n    /**\n     * This function selects the given line and applys the given class.\n     * @param {Number} lineno Line number to select.\n     * @param {String} className Class to apply to the selected line.\n     */\n    const selectLine = (lineno, className) => {\n        editorRef.current.revealLineInCenter(lineno);\n        setLineDecorations(\n            editorRef.current.deltaDecorations(lineDecorations, [\n                {\n                    range: new monaco.Range(lineno, 1, lineno, 1),\n                    options: {isWholeLine: true, className: className},\n                },\n            ])\n        );\n    };\n\n    /**\n     * Get the lines to hide given the source file.\n     * @param {String} source\n     * @return {Array}\n     */\n    const getLinesToHide = (source) => {\n        const lines = source.split(\"\\n\");\n        const linesToHide = [];\n\n        for (let i = 0; i < lines.length; i++) {\n            const line = lines[i];\n\n            if (line.includes(\"'''{\\\"type\\\":\\\"adli_abstraction_id\\\",\\\"\")) {\n                linesToHide.push(\n                    new monaco.Range(i+1, 1, i+1, 1)\n                );\n            }\n        }\n\n        return linesToHide;\n    };\n\n    /**\n     * This function loads the content into the monaco editor.\n     *  - Highlight stack position if it is in current active file\n     *  - Clear existing exceptions and load new ones if they exist\n     *  - Drawbreak points\n     */\n    const loadContent = () => {\n        if (editorRef?.current) {\n            if (activeThread && activeFile && stacks[activeThread]) {\n                const stack = stacks[activeThread].stack;\n                clearExceptions();\n                editorRef.current.setValue(fileTree[activeFile]);\n\n                if (stack.callStack[0].filePath === activeFile) {\n                    selectLine(stack.callStack[0].lineno, \"selectedLine\");\n                    addException(stack.callStack[0]);\n                }\n\n                if (stackPosition > 0 && activeFile === stack.callStack[stackPosition].filePath) {\n                    selectLine(stack.callStack[stackPosition].lineno, \"stackLine\");\n                    addException(stack.callStack[stackPosition]);\n                }\n\n                drawBreakPoints();\n\n                editorRef.current.setHiddenAreas(\n                    getLinesToHide(fileTree[activeFile])\n                );\n            } else {\n                editorRef.current.setValue(\"Loading content...\");\n            }\n        }\n    };\n\n\n    /**\n     * Draws the active breakpoints\n     */\n    const drawBreakPoints = () => {\n        if (editorRef?.current && breakPoints) {\n            const decos = [];\n            for (const breakPoint of breakPoints) {\n                if (breakPoint.filePath === activeFile) {\n                    const className = (breakPoint.enabled)?\n                        \"glyph-debugger-icon\":\n                        \"glyph-debugger-icon-disabled\";\n\n                    decos.push(getLineDecoration(breakPoint.lineno, className) );\n                }\n            }\n            setBreakPointDecorations(\n                editorRef.current.deltaDecorations(breakPointDecorations, decos)\n            );\n        }\n    };\n\n    /**\n     * Callback when mouse is moved on monaco instance.\n     * TODO: Move hover decoration variables into react state\n     * @param {Event} e\n     */\n    let hoverDecorations = [];\n    let currHoverLineNumber;\n    const onMonacoMouseMove = (e) => {\n        if (e.target.type === 2) {\n            if (currHoverLineNumber != e.target.position.lineNumber) {\n                const decoration = getLineDecoration(\n                    e.target.position.lineNumber, \"glyph-debugger-icon-hover\"\n                );\n                hoverDecorations = editorRef.current.deltaDecorations(\n                    hoverDecorations, [decoration]\n                );\n                currHoverLineNumber = e.target.position.lineNumber;\n            }\n        } else {\n            hoverDecorations = editorRef.current.deltaDecorations(hoverDecorations, []);\n        }\n    };\n\n    /**\n     * Callback when mouse exits the monaco editor.\n     * @param {Event} e\n     */\n    const onMonacoMouseLeave = (e) => {\n        hoverDecorations = editorRef.current.deltaDecorations(hoverDecorations, []);\n        currHoverLineNumber = null;\n    };\n\n    /**\n     * Callback when mouse down event occurs on monaco editor.\n     * @param {Event} e\n     */\n    const onMonacoMouseDown = (e) => {\n        if (activeFileRef.current && e.target.type === 2) {\n            cdlWorker.current.postMessage({\n                code: CDL_WORKER_PROTOCOL.TOGGLE_BREAKPOINT,\n                args: {\n                    fileName: activeFileRef.current,\n                    lineNumber: e.target.position.lineNumber,\n                },\n            });\n        }\n    };\n\n    return (\n        <Editor\n            defaultValue=\"Loading content...\"\n            theme={\"vs-dark\"}\n            onMount={handleEditorDidMount}\n            options={{\n                \"renderWhitespace\": \"none\",\n                \"wordWrap\": \"on\",\n                \"scrollBeyondLastLine\": false,\n                \"glyphMargin\": true,\n                \"readOnly\": true,\n            }}\n            language=\"python\"\n        />\n    );\n}\n","import React, {useContext, useEffect, useRef} from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport {FiletypePy} from \"react-bootstrap-icons\";\n\nimport ActiveFileContext from \"../../../Providers/ActiveFileContext\";\n\nimport \"./Tab.scss\";\n\nTab.propTypes = {\n    filePath: PropTypes.string,\n    tabName: PropTypes.string,\n};\n\n/**\n * Renders a Tab.\n * @return {JSX.Element}\n */\nexport function Tab ({filePath, tabName}) {\n    const tabRef = useRef();\n    const {activeFile, setActiveFile} = useContext(ActiveFileContext);\n\n    const renderTab = () => {\n        if (activeFile != undefined) {\n            if (activeFile === filePath) {\n                tabRef.current.classList.add(\"activeTab\");\n            } else {\n                tabRef.current.classList.remove(\"activeTab\");\n            }\n        }\n    };\n\n    useEffect(() => {\n        renderTab();\n    }, [activeFile]);\n\n    const selectFile = (e) => {\n        setActiveFile(filePath);\n    };\n\n    return (\n        <div ref={tabRef} className=\"tab d-flex align-items-center\" onClick={selectFile}>\n            <FiletypePy className=\"icon\"/> {tabName}\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport FileTreeContext from \"../../Providers/FileTreeContext\";\nimport {Tab} from \"./Tab/Tab\";\n\nimport \"./Tabs.scss\";\n\n/**\n * Renders the tabs.\n * @return {JSX.Element}\n */\nexport function Tabs ({}) {\n    const {fileTree} = useContext(FileTreeContext);\n\n    const [tabs, setTabs] = useState();\n\n    const getFrequencyOfItem = (arr, item) => {\n        return arr.filter((x) => x === item).length;\n    };\n\n    useEffect(() => {\n        if (fileTree) {\n            const fileNames = Object.keys(fileTree).map((path, index) => {\n                return path.split(\"/\").pop();\n            });\n            // If fileName occurs more than once, then use filepath as tabName.\n            const tabsJSX = Object.keys(fileTree).map((filePath, index) => {\n                const count = getFrequencyOfItem(fileNames, fileNames[index]);\n                const tabName = count === 1\n                    ? fileNames[index]\n                    : filePath;\n                return <Tab key={filePath} filePath={filePath} tabName={tabName}></Tab>;\n            });\n            setTabs(tabsJSX);\n        } else {\n            setTabs([]);\n        }\n    }, [fileTree]);\n\n    // TODO: Reimplement scroll bar for tabs.\n    return (\n        <div className=\"tabs d-flex\">\n            {tabs}\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\n\nimport {MonacoInstance} from \"../MonacoInstance/MonacoInstance\";\nimport {Tabs} from \"../Tabs/Tabs\";\nimport {VerticalHandle} from \"./VerticalHandle/VerticalHandle\";\n\nimport \"./CentralContainer.scss\";\n\n/**\n * Contains the viewer an flow.\n * @return {JSX.Element}\n */\nexport function CentralContainer () {\n    const centralContainerRef = useRef();\n    const viewerRef = useRef();\n    const flowRef = useRef();\n\n    const redrawContainers = () => {\n        const height = centralContainerRef.current.clientHeight;\n        // const containerHeight = height - 130 - 30;\n        // flowRef.current.style.height = 130 + \"px\";\n    };\n\n    useEffect(() => {\n        redrawContainers();\n    }, []);\n\n    return (\n        <div ref={centralContainerRef} className=\"central-container w-100 d-flex flex-column\">\n            <div style={{height: \"40px\"}}>\n                <Tabs />\n            </div>\n            <div className=\"flex-grow-1\" ref={viewerRef}>\n                <MonacoInstance/>\n            </div>\n            {/* <VerticalHandle topDiv={viewerRef} bottomDiv={flowRef}/>\n            <div ref={flowRef}>\n            </div> */}\n        </div>\n    );\n}\n","import React, {useCallback, useEffect, useRef} from \"react\";\n\nimport PropTypes from \"prop-types\";\n\nimport \"./VerticalHandle.scss\";\n\nVerticalHandle.propTypes = {\n    topDiv: PropTypes.object,\n    bottomDiv: PropTypes.object,\n};\n\n/**\n * Renders a vertically resizable handle for the accordian components.\n * It accepts two components which are resized when the handle is moved.\n * @return {JSX.Element}\n */\nexport function VerticalHandle ({topDiv, bottomDiv}) {\n    const handleRef = useRef();\n    const downValueY = useRef();\n    const topHeight = useRef();\n    const bottomHeight = useRef();\n\n    const MIN_CONTAINER_HEIGHT = 15;\n    const MAX_CONTAINER_HEIGHT = 200;\n\n    const handleMouseDown = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n\n        downValueY.current = e.clientY;\n        topHeight.current = topDiv.current.getBoundingClientRect().height;\n        bottomHeight.current = bottomDiv.current.getBoundingClientRect().height;\n\n        handleRef.current.classList.add(\"handle-active\");\n    }, [handleMouseMove, handleMouseUp]);\n\n    const handleMouseMove = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const delta = e.clientY - downValueY.current;\n        const newPreHeight = topHeight.current + delta;\n        const newPostHeight = bottomHeight.current - delta;\n\n        if (newPostHeight < MAX_CONTAINER_HEIGHT &&\n            newPreHeight > MIN_CONTAINER_HEIGHT &&\n            newPostHeight > MIN_CONTAINER_HEIGHT) {\n            topDiv.current.style.height = newPreHeight + \"px\";\n            bottomDiv.current.style.height = newPostHeight + \"px\";\n        }\n    }, [topDiv, bottomDiv]);\n\n    const handleMouseUp = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        handleRef.current.classList.remove(\"handle-active\");\n    }, [handleMouseMove]);\n\n    useEffect(() => {\n        return () => {\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [handleMouseMove, handleMouseUp]);\n\n    return (\n        <div ref={handleRef} onMouseDown={handleMouseDown} className=\"vertical-handle\"></div>\n    );\n}","import React, {useCallback, useContext, useEffect, useRef, useState} from \"react\";\n\nimport {ArrowDownShort, ArrowLeftShort, ArrowRepeat, ArrowRightShort, ArrowUpShort,\n    Play, ThreeDotsVertical} from \"react-bootstrap-icons\";\n\nimport ActionsContext from \"../../Providers/ActionsContext\";\nimport ExecutionTreeContext from \"../../Providers/ExecutionTreeContext\";\nimport StackContext from \"../../Providers/StackContext\";\nimport StackPositionContext from \"../../Providers/StackPositionContext\";\nimport WorkerContext from \"../../Providers/WorkerContext\";\nimport CDL_WORKER_PROTOCOL from \"../../Services/CDL_WORKER_PROTOCOL\";\n\nimport \"./DebugToolKit.scss\";\n\n\n/**\n * This component creates a debug tool kit that can be\n * moved using a handle. This component is rendered above\n * all other components.\n * @return {JSX.Element}\n */\nexport function DebugToolKit ({}) {\n    const container = useRef();\n\n    const {stackPosition, setStackPosition} = useContext(StackPositionContext);\n    const {stacks, activeThread} = useContext(StackContext);\n    const {setActions} = useContext(ActionsContext);\n    const {cdlWorker} = useContext(WorkerContext);\n    const {executionTree} = useContext(ExecutionTreeContext);\n\n    const [stack, setStack] = useState();\n\n    const blueColor = \"#75beff\";\n    const greyColor = \"#7c7c7c\";\n    const greenColor = \"#00BB00\";\n\n    let deltaX;\n    let deltaY;\n\n    const handleMouseDown = (e) => {\n        const rect = container.current.getBoundingClientRect();\n        deltaX = e.clientX - rect.x;\n        deltaY = e.clientY - rect.y;\n        e.preventDefault();\n        e.stopPropagation();\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n    };\n\n    const handleMouseMove = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const rect = container.current.getBoundingClientRect();\n        const newX = e.clientX - deltaX;\n        const newY = e.clientY - deltaY;\n\n        // Bound the container to stay within the screen width\n        if (newX + rect.width < document.body.clientWidth && newX >= 0) {\n            container.current.style.left = e.clientX - deltaX + \"px\";\n        } else if (newX <= 0) {\n            container.current.style.left = 0;\n        } else {\n            container.current.style.left = document.body.clientWidth - rect.width + \"px\";\n        }\n\n        // Bound the container to stay within the screen height\n        if (newY + rect.height < document.body.clientHeight && newY >= 0) {\n            container.current.style.top = e.clientY - deltaY + \"px\";\n        } else if (newY <= 0) {\n            container.current.style.top = 0;\n        } else {\n            container.current.style.top = document.body.clientHeight - rect.height + \"px\";\n        }\n    };\n\n    const handleMouseUp = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n\n    // Set initial position of container\n    useEffect(() => {\n        container.current.style.top = \"100px\";\n        container.current.style.left = document.body.clientWidth - 900 + \"px\";\n    }, []);\n\n    useEffect(() => {\n        if (stacks && activeThread) {\n            setStack(stacks[activeThread].stack);\n        }\n    }, [stacks, activeThread]);\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", keydown, false);\n        return () => {\n            document.removeEventListener(\"keydown\", keydown, false);\n        };\n    }, [stack, activeThread, stackPosition, stacks]);\n\n    const keydown = useCallback((e) => {\n        switch (e.code) {\n            case \"KeyB\":\n                setActions((prev) => ({\n                    value: \"Toggle Breakpoint\",\n                    tick: prev.tick + 1,\n                }));\n                toggleBreakpoint();\n                break;\n\n            case \"KeyD\":\n                setActions((prev) => ({\n                    value: \"Disable Breakpoint\",\n                    tick: prev.tick + 1,\n                }));\n                disableBreakpoint();\n                break;\n\n            case \"KeyR\":\n                setActions((prev) => ({\n                    value: \"Replay Program from Start\",\n                    tick: prev.tick + 1,\n                }));\n                replayProgram();\n                break;\n\n            case \"KeyC\":\n                setActions((prev) => ({\n                    value: \"Clear Breakpoints\",\n                    tick: prev.tick + 1,\n                }));\n                clearBreakpoints();\n                break;\n\n            case \"ArrowRight\":\n                if (e.ctrlKey) {\n                    setActions((prev) => ({\n                        value: \"Play Forward\",\n                        tick: prev.tick + 1,\n                    }));\n                    playForward();\n                } else {\n                    setActions((prev) => ({\n                        value: \"Step Over Forwards\",\n                        tick: prev.tick + 1,\n                    }));\n                    stepOverForward();\n                }\n                break;\n\n            case \"ArrowLeft\":\n                if (e.ctrlKey) {\n                    setActions((prev) => ({\n                        value: \"Play Backward\",\n                        tick: prev.tick + 1,\n                    }));\n                    playBackward();\n                } else {\n                    setActions((prev) => ({\n                        value: \"Step Over Backwards\",\n                        tick: prev.tick + 1,\n                    }));\n                    stepOverBackward();\n                }\n                break;\n\n            case \"ArrowUp\":\n                if (e.ctrlKey) {\n                    if (!executionTree) {\n                        moveUpStack();\n                    }\n                } else {\n                    setActions((prev) => ({\n                        value: \"Step Out of Current Level\",\n                        tick: prev.tick + 1,\n                    }));\n                    stepOut();\n                }\n                break;\n\n            case \"ArrowDown\":\n                if (e.ctrlKey) {\n                    if (!executionTree) {\n                        moveDownStack();\n                    }\n                } else {\n                    setActions((prev) => ({\n                        value: \"Step Into Next Level\",\n                        tick: prev.tick + 1,\n                    }));\n                    stepInto();\n                }\n                break;\n\n            default:\n                break;\n        }\n    }, [stack, activeThread, stackPosition, stacks]);\n\n    const sendToWorker = (code, args) => {\n        if (cdlWorker && cdlWorker.current) {\n            cdlWorker.current.postMessage({code: code, args: args});\n        }\n    };\n\n    const toggleBreakpoint = () => {\n        const code = CDL_WORKER_PROTOCOL.TOGGLE_BREAKPOINT;\n        const args = {\n            fileName: stack.callStack[stackPosition].filePath,\n            lineNumber: stack.callStack[stackPosition].lineno,\n        };\n        sendToWorker(code, args);\n    };\n\n    const disableBreakpoint = () => {\n        const code = CDL_WORKER_PROTOCOL.TOGGLE_BREAKPOINT_ENABLED;\n        const args = {\n            fileName: stack.callStack[stackPosition].filePath,\n            lineNumber: stack.callStack[stackPosition].lineno,\n        };\n        sendToWorker(code, args);\n    };\n\n    const clearBreakpoints = () => {\n        const code = CDL_WORKER_PROTOCOL.CLEAR_BREAKPOINTS;\n        const args = {};\n        sendToWorker(code, args);\n    };\n\n    const stepInto = () => {\n        const code = CDL_WORKER_PROTOCOL.STEP_INTO;\n        const args = {\n            position: stack.callStack[stackPosition].position,\n            threadId: stack.callStack[stackPosition].threadId,\n        };\n        sendToWorker(code, args);\n    };\n\n    const stepOut = () => {\n        const code = CDL_WORKER_PROTOCOL.STEP_OUT;\n        console.log(stackPosition);\n        const args = {\n            position: stack.callStack[stackPosition].position,\n            threadId: stack.callStack[stackPosition].threadId,\n        };\n        sendToWorker(code, args);\n    };\n\n    const stepOverForward = () => {\n        const code = CDL_WORKER_PROTOCOL.STEP_OVER_FORWARD;\n        const args = {\n            position: stack.callStack[stackPosition].position,\n            threadId: stack.callStack[stackPosition].threadId,\n        };\n        sendToWorker(code, args);\n    };\n\n    const stepOverBackward = () => {\n        const code = CDL_WORKER_PROTOCOL.STEP_OVER_BACKWARD;\n        const args = {\n            position: stack.callStack[stackPosition].position,\n            threadId: stack.callStack[stackPosition].threadId,\n        };\n        sendToWorker(code, args);\n    };\n\n    const playForward = () => {\n        const code = CDL_WORKER_PROTOCOL.PLAY_FORWARD;\n        const args = {\n            position: stack.callStack[stackPosition].position,\n            threadId: stack.callStack[stackPosition].threadId,\n        };\n        sendToWorker(code, args);\n    };\n\n    const playBackward = () => {\n        const code = CDL_WORKER_PROTOCOL.PLAY_BACKWARD;\n        const args = {\n            position: stack.callStack[stackPosition].position,\n            threadId: stack.callStack[stackPosition].threadId,\n        };\n        sendToWorker(code, args);\n    };\n\n    const replayProgram = () => {\n        const code = CDL_WORKER_PROTOCOL.REPLAY;\n        const args = {};\n        sendToWorker(code, args);\n    };\n\n    const moveUpStack = () => {\n        if (stackPosition + 1 < stack.callStack.length) {\n            setStackPosition(stackPosition + 1);\n        }\n    };\n\n    const moveDownStack = () => {\n        if (stackPosition - 1 >= 0) {\n            setStackPosition(stackPosition - 1);\n        }\n    };\n\n    return (\n        <div ref={container} className=\"toolkit-container\">\n            <div className=\"d-flex w-100 h-100\">\n                <ThreeDotsVertical\n                    onMouseDown={handleMouseDown}\n                    className=\"icon\"\n                    style={{color: greyColor, cursor: \"move\"}}\n                    size={20} />\n                <Play\n                    className=\"me-1 icon\"\n                    title=\"Play Forward (Ctrl + )\"\n                    onClick={playForward}\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowLeftShort\n                    className=\"me-1 icon\"\n                    title=\"Step Over Backward ( Key)\"\n                    onClick={stepOverBackward}\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowRightShort\n                    className=\"me-1 icon\"\n                    title=\"Step Over Forward ( Key)\"\n                    onClick={stepOverForward}\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowUpShort\n                    className=\"me-1 icon\"\n                    title=\"Step Out ( Key)\"\n                    onClick={stepOut}\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowDownShort\n                    className=\"me-1 icon\"\n                    onClick={stepInto}\n                    title=\"Step Into ( Key)\"\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowRepeat\n                    className=\"me-1 icon\"\n                    title=\"Restart (R Key)\"\n                    onClick={replayProgram}\n                    style={{color: greenColor}}\n                    size={22} />\n            </div>\n        </div>\n    );\n}\n","import React, {useCallback, useContext, useEffect, useRef, useState} from \"react\";\n\nimport {ArrowDownShort, ArrowLeftShort, ArrowRepeat, ArrowRightShort, ArrowUpShort,\n    Layers, Play, ThreeDotsVertical} from \"react-bootstrap-icons\";\n\nimport ActionsContext from \"../../Providers/ActionsContext\";\nimport BreakpointsContext from \"../../Providers/BreakpointsContext\";\nimport ExecutionTreeContext from \"../../Providers/ExecutionTreeContext\";\nimport StackContext from \"../../Providers/StackContext\";\nimport StackPositionContext from \"../../Providers/StackPositionContext\";\nimport WorkerContext from \"../../Providers/WorkerContext\";\nimport CDL_WORKER_PROTOCOL from \"../../Services/CDL_WORKER_PROTOCOL\";\n\nimport \"./DebugToolKit.scss\";\n\n\n/**\n * This component creates a debug tool kit that can be\n * moved using a handle. This component is rendered above\n * all other components.\n * @return {JSX.Element}\n */\nexport function DebugToolKitSemantic ({}) {\n    const container = useRef();\n\n    const {stackPosition} = useContext(StackPositionContext);\n    const {activeAbstraction, setActiveAbstraction,\n        stacks, activeThread} = useContext(StackContext);\n    const {setActions} = useContext(ActionsContext);\n    const {cdlWorker} = useContext(WorkerContext);\n    const {breakPoints} = useContext(BreakpointsContext);\n    const {behavior, activeBehavior, semanticState, setActiveBehavior,\n        setSemanticState, executionTree} = useContext(ExecutionTreeContext);\n\n    const [stack, setStack] = useState();\n\n    const blueColor = \"#75beff\";\n    const greyColor = \"#7c7c7c\";\n    const greenColor = \"#00BB00\";\n\n    let deltaX;\n    let deltaY;\n\n    const handleMouseDown = (e) => {\n        const rect = container.current.getBoundingClientRect();\n        deltaX = e.clientX - rect.x;\n        deltaY = e.clientY - rect.y;\n        e.preventDefault();\n        e.stopPropagation();\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n    };\n\n    const handleMouseMove = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const rect = container.current.getBoundingClientRect();\n        const newX = e.clientX - deltaX;\n        const newY = e.clientY - deltaY;\n\n        // Bound the container to stay within the screen width\n        if (newX + rect.width < document.body.clientWidth && newX >= 0) {\n            container.current.style.left = e.clientX - deltaX + \"px\";\n        } else if (newX <= 0) {\n            container.current.style.left = 0;\n        } else {\n            container.current.style.left = document.body.clientWidth - rect.width + \"px\";\n        }\n\n        // Bound the container to stay within the screen height\n        if (newY + rect.height < document.body.clientHeight && newY >= 0) {\n            container.current.style.top = e.clientY - deltaY + \"px\";\n        } else if (newY <= 0) {\n            container.current.style.top = 0;\n        } else {\n            container.current.style.top = document.body.clientHeight - rect.height + \"px\";\n        }\n    };\n\n    const handleMouseUp = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n\n    // Set initial position of container\n    useEffect(() => {\n        container.current.style.top = \"100px\";\n        container.current.style.left = document.body.clientWidth - 900 + \"px\";\n    }, []);\n\n    useEffect(() => {\n        if (stacks && activeThread) {\n            setStack(stacks[activeThread].stack);\n        }\n    }, [stacks, activeThread]);\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", keydown, false);\n        return () => {\n            document.removeEventListener(\"keydown\", keydown, false);\n        };\n    }, [stack, activeThread, stackPosition, stacks, semanticState]);\n\n    const keydown = useCallback((e) => {\n        switch (e.code) {\n            case \"KeyT\":\n                setActions((prev) => ({\n                    value: \"ToggleFocus\",\n                    tick: prev.tick + 1,\n                }));\n                toggleFocusOfDebugOperations();\n                break;\n\n            case \"KeyB\":\n                setActions((prev) => ({\n                    value: \"Toggle Breakpoint\",\n                    tick: prev.tick + 1,\n                }));\n                toggleBreakpoint();\n                break;\n\n            case \"KeyD\":\n                setActions((prev) => ({\n                    value: \"Disable Breakpoint\",\n                    tick: prev.tick + 1,\n                }));\n                disableBreakpoint();\n                break;\n\n            case \"KeyR\":\n                setActions((prev) => ({\n                    value: \"Replay Program from Start\",\n                    tick: prev.tick + 1,\n                }));\n                // replayProgram();\n                break;\n\n            case \"KeyC\":\n                setActions((prev) => ({\n                    value: \"Clear Breakpoints\",\n                    tick: prev.tick + 1,\n                }));\n                clearBreakpoints();\n                break;\n\n            case \"ArrowRight\":\n                if (e.ctrlKey) {\n                    setActions((prev) => ({\n                        value: \"Play Forward\",\n                        tick: prev.tick + 1,\n                    }));\n                    playForward();\n                } else {\n                    setActions((prev) => ({\n                        value: \"Step Over Forwards\",\n                        tick: prev.tick + 1,\n                    }));\n                    stepOverForward();\n                }\n                break;\n\n            case \"ArrowLeft\":\n                if (e.ctrlKey) {\n                    setActions((prev) => ({\n                        value: \"Play Backward\",\n                        tick: prev.tick + 1,\n                    }));\n                    playBackward();\n                } else {\n                    setActions((prev) => ({\n                        value: \"Step Over Backwards\",\n                        tick: prev.tick + 1,\n                    }));\n                    stepOverBackward();\n                }\n                break;\n\n            case \"ArrowUp\":\n                if (e.ctrlKey) {\n                    // Free shortcut, not used.\n                } else {\n                    setActions((prev) => ({\n                        value: \"Step Out of Current Level\",\n                        tick: prev.tick + 1,\n                    }));\n                    stepOut();\n                }\n                break;\n\n            case \"ArrowDown\":\n                if (e.ctrlKey) {\n                    // Free shortcut, not used.\n                } else {\n                    setActions((prev) => ({\n                        value: \"Step Into Next Level\",\n                        tick: prev.tick + 1,\n                    }));\n                    stepInto();\n                }\n                break;\n\n            default:\n                break;\n        }\n    }, [stack, activeThread, stackPosition, stacks, semanticState]);\n\n    const sendToWorker = (code, args) => {\n        if (cdlWorker && cdlWorker.current) {\n            cdlWorker.current.postMessage({code: code, args: args});\n        }\n    };\n\n    const toggleFocusOfDebugOperations = () => {\n        let newBehavior;\n        if (semanticState === \"behavior\") {\n            newBehavior = \"execution\";\n        } else if (semanticState === \"execution\") {\n            newBehavior = \"behavior\";\n        } else {\n            // Default behavior\n            newBehavior = \"behavior\";\n        }\n        setSemanticState(newBehavior);\n    };\n\n    const toggleBreakpoint = () => {\n        const code = CDL_WORKER_PROTOCOL.TOGGLE_BREAKPOINT;\n        const args = {\n            fileName: stack.callStack[stackPosition].filePath,\n            lineNumber: stack.callStack[stackPosition].lineno,\n        };\n        sendToWorker(code, args);\n    };\n\n    const disableBreakpoint = () => {\n        const code = CDL_WORKER_PROTOCOL.TOGGLE_BREAKPOINT_ENABLED;\n        const args = {\n            fileName: stack.callStack[stackPosition].filePath,\n            lineNumber: stack.callStack[stackPosition].lineno,\n        };\n        sendToWorker(code, args);\n    };\n\n    const clearBreakpoints = () => {\n        const code = CDL_WORKER_PROTOCOL.CLEAR_BREAKPOINTS;\n        const args = {};\n        sendToWorker(code, args);\n    };\n\n    /**\n     * Returns the position of the active abstraction in the execution tree.\n     * @return {Number|null}\n     */\n    const getExecutionPosFromActiveAbstraction = () => {\n        for (let i = 0; i < executionTree.length; i++) {\n            const entry = executionTree[i];\n            if (entry.index === activeAbstraction.node.index) {\n                return i;\n            }\n        }\n    };\n\n    const stepInto = () => {\n        // No valid behavior available, so we return\n        if (behavior === undefined || !behavior || behavior.length === 0) {\n            return;\n        }\n\n        if (semanticState === \"behavior\" && activeBehavior < behavior.length - 1) {\n            setActiveBehavior(activeBehavior + 1);\n            return;\n        }\n\n        if (semanticState === \"execution\") {\n            const index = getExecutionPosFromActiveAbstraction();\n            if (index + 1 < executionTree.length) {\n                const node = executionTree[index + 1];\n                setActiveAbstraction({\n                    index: index + 1,\n                    node: node,\n                });\n            }\n            return;\n        }\n    };\n\n    const stepOut = () => {\n        // No valid behavior available, so we return\n        if (behavior === undefined || !behavior || behavior.length === 0) {\n            return;\n        }\n\n        if (semanticState === \"behavior\" && activeBehavior > 0) {\n            let pos = activeBehavior;\n            if (pos <= 0) {\n                return;\n            }\n\n            const startLevel = behavior[pos].level;\n            while (--pos >= 0) {\n                const entry = behavior[pos];\n                if (entry.level < startLevel) {\n                    setActiveBehavior(pos);\n                    break;\n                }\n            } ;\n            return;\n        }\n\n        if (semanticState === \"execution\") {\n            let pos = getExecutionPosFromActiveAbstraction();\n            if (pos <= 0) {\n                return;\n            }\n\n            const startLevel = executionTree[pos].level;\n            while (--pos >= 0) {\n                const entry = executionTree[pos];\n                if (entry.level < startLevel) {\n                    setActiveAbstraction({\n                        index: pos,\n                        node: executionTree[pos],\n                    });\n                    break;\n                }\n            };\n            return;\n        }\n    };\n\n    const stepOverForward = () => {\n        // No valid behavior available, so we return\n        if (behavior === undefined || !behavior || behavior.length === 0) {\n            return;\n        }\n\n        if (semanticState === \"behavior\") {\n            let pos = activeBehavior;\n            if (pos >= behavior.length - 1) {\n                return;\n            }\n\n            const startLevel = behavior[pos].level;\n            while (++pos < behavior.length) {\n                const entry = behavior[pos];\n                if (entry.level <= startLevel) {\n                    setActiveBehavior(pos);\n                    break;\n                }\n            }\n            return;\n        };\n\n        if (semanticState === \"execution\") {\n            let pos = getExecutionPosFromActiveAbstraction();\n            if (pos >= executionTree.length - 1) {\n                return;\n            }\n\n            const startLevel = executionTree[pos].level;\n            while (++pos <= executionTree.length - 1) {\n                const entry = executionTree[pos];\n                if (entry.level <= startLevel) {\n                    setActiveAbstraction({\n                        index: pos,\n                        node: executionTree[pos],\n                    });\n                    break;\n                }\n            };\n            return;\n        }\n    };\n\n    const stepOverBackward = () => {\n        // No valid behavior available, so we return\n        if (behavior === undefined || !behavior || behavior.length === 0) {\n            return;\n        }\n\n        if (semanticState === \"behavior\") {\n            let pos = activeBehavior;\n            if (pos <= 0) {\n                return;\n            }\n\n            const startLevel = behavior[pos].level;\n            while (--pos >= 0) {\n                const entry = behavior[pos];\n                if (entry.level <= startLevel) {\n                    setActiveBehavior(pos);\n                    break;\n                }\n            } ;\n            return;\n        };\n\n        if (semanticState === \"execution\") {\n            let pos = getExecutionPosFromActiveAbstraction();\n            if (pos <= 0) {\n                return;\n            }\n\n            const startLevel = executionTree[pos].level;\n            while (--pos >= 0) {\n                const entry = executionTree[pos];\n                if (entry.level <= startLevel) {\n                    setActiveAbstraction({\n                        index: pos,\n                        node: executionTree[pos],\n                    });\n                    break;\n                }\n            };\n            return;\n        }\n    };\n\n    const playForward = () => {\n        // No valid behavior available, so we return\n        if (behavior === undefined || !behavior || behavior.length === 0) {\n            return;\n        }\n\n        // Move forward through the abstractions and execution until you\n        // find a breakpoint. Its pretty inefficient because I don't start\n        // from the currnt position, instead I search from the start. I\n        // will optimize all that later.\n        for (let i = 0; i < behavior.length; i++) {\n            for (let j = 0; j < behavior[i].execution.length; j++) {\n                const foundBreak = isBreakPoint(behavior[i].execution[j]);\n                if (!foundBreak) {\n                    continue;\n                }\n\n                if ((i === activeBehavior && j > activeAbstraction.index) || (i > activeBehavior)) {\n                    const node = behavior[i].execution[j];\n                    setActiveAbstraction({\n                        index: j,\n                        node: node,\n                    });\n                    setActiveBehavior(i);\n                    return;\n                }\n            }\n        }\n\n        // Go to last execution if no breakpoints were found\n        const execution = behavior[behavior.length - 1].execution;\n        const lastExecution = execution[execution.length - 1];\n        setActiveAbstraction({\n            index: lastExecution.index,\n            node: lastExecution,\n        });\n        setActiveBehavior(behavior.length - 1);\n    };\n\n    // Checks if the given execution position is a breakpoint.\n    const isBreakPoint = (exec) => {\n        if (!breakPoints || !exec) {\n            return false;\n        }\n        for (let k = 0; k < breakPoints.length; k++) {\n            const fileName = breakPoints[k].fileName;\n            const lineNumber = breakPoints[k].lineno;\n            if (exec.fileName === fileName && exec.lineno === lineNumber) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    const playBackward = () => {\n        // No valid behavior available, so we return\n        if (behavior === undefined || !behavior || behavior.length === 0) {\n            return;\n        }\n\n        // Move back through the abstractions and execution until you\n        // find a breakpoint\n        for (let i = behavior.length - 1; i >= 0; i--) {\n            for (let j = behavior[i].execution.length - 1; j >= 0; j--) {\n                const foundBreak = isBreakPoint(behavior[i].execution[j]);\n                if (!foundBreak) {\n                    continue;\n                }\n\n                if ((i === activeBehavior && j < activeAbstraction.index - 1)\n                    || (i < activeBehavior)) {\n                    const node = behavior[i].execution[j];\n                    setActiveAbstraction({\n                        index: j,\n                        node: node,\n                    });\n                    setActiveBehavior(i);\n                    return;\n                }\n            }\n        }\n\n        // Go to first execution if no breakpoints were found\n        const execution = behavior[0].execution;\n        const firstExecution = execution[0];\n        setActiveAbstraction({\n            index: 0,\n            node: firstExecution,\n        });\n        setActiveBehavior(0);\n    };\n\n    const replayProgram = () => {\n        // No valid behavior available, so we return\n        if (behavior === undefined || !behavior || behavior.length === 0) {\n            return;\n        }\n\n        // Replay program from the start.\n        for (let i = 0; i < behavior.length; i++) {\n            for (let j = 0; j < behavior[i].execution.length; j++) {\n                const foundBreak = isBreakPoint(behavior[i].execution[j]);\n                if (!foundBreak) {\n                    continue;\n                }\n                setActiveAbstraction({\n                    index: j,\n                    node: behavior[i].execution[j],\n                });\n                setActiveBehavior(i);\n                return;\n            }\n        }\n\n        // Go to last execution if no breakpoints were found\n        const execution = behavior[behavior.length - 1].execution;\n        const lastExecution = execution[execution.length - 1];\n        setActiveAbstraction({\n            index: lastExecution.index,\n            node: lastExecution,\n        });\n        setActiveBehavior(behavior.length - 1);\n    };\n\n    return (\n        <div ref={container} className=\"toolkit-container\">\n            <div className=\"d-flex w-100 h-100\">\n                <ThreeDotsVertical\n                    onMouseDown={handleMouseDown}\n                    className=\"icon\"\n                    style={{color: greyColor, cursor: \"move\"}}\n                    size={20} />\n                <Play\n                    className=\"me-1 icon\"\n                    title=\"Play Forward (Ctrl + )\"\n                    onClick={playForward}\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowLeftShort\n                    className=\"me-1 icon\"\n                    title=\"Step Over Backward ( Key)\"\n                    onClick={stepOverBackward}\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowRightShort\n                    className=\"me-1 icon\"\n                    title=\"Step Over Forward ( Key)\"\n                    onClick={stepOverForward}\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowUpShort\n                    className=\"me-1 icon\"\n                    title=\"Step Out ( Key)\"\n                    onClick={stepOut}\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowDownShort\n                    className=\"me-1 icon\"\n                    onClick={stepInto}\n                    title=\"Step Into ( Key)\"\n                    style={{color: blueColor}}\n                    size={22} />\n                <ArrowRepeat\n                    className=\"me-1 icon\"\n                    title=\"Restart (R Key)\"\n                    onClick={replayProgram}\n                    style={{color: greenColor}}\n                    size={22} />\n                <Layers\n                    className=\"ms-1 icon align-self-center\"\n                    title=\"Toggle Focus between Behavior and Execution (T)\"\n                    onClick={toggleFocusOfDebugOperations}\n                    style={{color: blueColor}}\n                    size={20} />\n            </div>\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\nimport { Form } from 'react-bootstrap';\nimport PropTypes from \"prop-types\";\nimport {X} from \"react-bootstrap-icons\";\n\nimport WorkerContext from \"../../../../Providers/WorkerContext\";\n\nimport CDL_WORKER_PROTOCOL from \"../../../../Services/CDL_WORKER_PROTOCOL\";\n\nimport \"./BreakPointRow.scss\";\n\nBreakPointRow.propTypes = {\n    index: PropTypes.number,\n    fileName: PropTypes.string,\n    filePath: PropTypes.string,\n    lineNumber: PropTypes.number,\n    enabled: PropTypes.bool,\n};\n\n/**\n * Renders a breakpoint row.\n * @param {String} fileName\n * @param {String} filePath\n * @param {Number} lineNumber\n * @param {Boolean} enabled\n * @return {JSX}\n */\nexport function BreakPointRow ({index, fileName, filePath, lineNumber, enabled}) {\n\n    const {cdlWorker} = useContext(WorkerContext);\n    const [isEnabled, setIsEnabled] = useState();\n\n    const toggleEnabled = (e) => {\n        cdlWorker.current.postMessage({\n            code: CDL_WORKER_PROTOCOL.TOGGLE_BREAKPOINT_ENABLED,\n            args: {\n                fileName: filePath,\n                lineNumber: lineNumber\n            },\n        });\n    }\n\n    const removeBreakpoint = (e) => {\n        cdlWorker.current.postMessage({\n            code: CDL_WORKER_PROTOCOL.TOGGLE_BREAKPOINT,\n            args: {\n                fileName: filePath,\n                lineNumber: lineNumber,  \n            },\n        });\n    }\n\n    useEffect(() => {\n        setIsEnabled(enabled);\n    }, [enabled]);\n\n    return (\n        <div className=\"breakpoint-row w-100 d-flex flex-row\" >\n\n            <div className=\"check\">\n                <Form.Check type=\"checkbox\" onClick={toggleEnabled} defaultChecked={isEnabled} />\n            </div>\n            \n            {filePath}\n\n            <div className=\"flex-grow-1 d-flex justify-content-end\">\n                <div className=\"pill\">\n                    {lineNumber}\n                </div>\n                <div className=\"close\">\n                    <X onMouseDown={removeBreakpoint} size={22}/>\n                </div>\n            </div>\n\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport BreakpointsContext from \"../../../Providers/BreakpointsContext\";\nimport {BreakPointRow} from \"./BreakPointRow/BreakPointRow\";\n\nimport \"./BreakPointContainer.scss\";\n\n/**\n * Contains the breakpoint container.\n * @return {JSX.Element}\n */\nexport function BreakPointContainer () {\n    const [breakPointStack, setBreakPointStack] = useState();\n\n    const {breakPoints} = useContext(BreakpointsContext);\n\n    useEffect(() => {\n        if (breakPoints) {\n            const _breakPoints = [];\n            breakPoints.forEach((breakPoint, index) => {\n                const row = <BreakPointRow\n                    key={index}\n                    index={index}\n                    filePath={breakPoint.filePath}\n                    fileName={breakPoint.fileName}\n                    lineNumber={breakPoint.lineno}\n                    enabled={breakPoint.enabled}\n                />;\n                _breakPoints.push(row);\n            });\n            setBreakPointStack(_breakPoints);\n        } else {\n            setBreakPointStack([]);\n        }\n    }, [breakPoints]);\n\n    return (\n        <div className=\"breakPointContainer\">\n            {breakPointStack}\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport PropTypes from \"prop-types\";\n\nimport ActiveFileContext from \"../../../../Providers/ActiveFileContext\";\nimport StackContext from \"../../../../Providers/StackContext\";\nimport StackPositionContext from \"../../../../Providers/StackPositionContext\";\n\nimport \"./CallStackRow.scss\";\n\nCallStackRow.propTypes = {\n    index: PropTypes.number,\n    functionName: PropTypes.string,\n    filePath: PropTypes.string,\n    fileName: PropTypes.string,\n    lineno: PropTypes.number,\n    position: PropTypes.number,\n    main: PropTypes.bool,\n    threadId: PropTypes.string,\n};\n\n/**\n * Renders a call stack row.\n * @param {String} functionName\n * @param {String} filePath\n * @param {String} fileName\n * @param {Number} lineno\n * @param {Number} position\n * @param {Boolean} main\n * @param {String} threadId\n * @return {JSX}\n */\nexport function CallStackRow ({index, functionName, filePath, fileName, lineno, position, main, threadId}) {\n    const {stackPosition, setStackPosition} = useContext(StackPositionContext);\n    const {stacks, activeThread, setActiveThread} = useContext(StackContext);\n    const {setActiveFile} = useContext(ActiveFileContext);\n\n    const [rowStyle, setRowStyle] = useState();\n    const [nameStyle, setNameStyle] = useState();\n\n    /**\n     * Callback when stack position is selected.\n     * @param {Event} e\n     */\n    const selectStackPosition = (e) => {\n        setStackPosition(index);\n        setActiveThread(threadId);\n        setActiveFile(stacks[threadId].stack.callStack[index].filePath);\n    };\n\n    const setStyle = (currStack) => {\n        const exceptions = currStack[index].exceptions;\n        const hasException = (exceptions && exceptions.length > 0);\n        if (index === stackPosition) {\n            setNameStyle();\n            if (index === 0 && hasException) {\n                setRowStyle({backgroundColor: \"#420b0e\"});\n            } else if (index === 0) {\n                setRowStyle({backgroundColor: \"#373700\"});\n            } else {\n                setRowStyle({backgroundColor: \"#184b2d\"});\n            }\n        } else {\n            setRowStyle();\n            if (hasException) {\n                setNameStyle({color: \"#ff8c92\"});\n            } else {\n                setNameStyle({color: \"white\"});\n            }\n        }\n    };\n\n    useEffect(() => {\n        if (stacks && activeThread && threadId in stacks) {\n            const currStack = stacks[threadId].stack.callStack;\n            if (activeThread == threadId && index < currStack.length) {\n                setStyle(currStack);\n            } else {\n                setRowStyle({});\n                setNameStyle({});\n            }\n        }\n    }, [stacks, stackPosition, activeThread]);\n\n    return (\n        <div style={rowStyle} onClick={(e) => selectStackPosition(e)}\n            className=\"stack-row w-100 d-flex flex-row\">\n            <div style={nameStyle}>{functionName}</div>\n            <div className=\"flex-grow-1 d-flex justify-content-end\">\n                <div className=\"file-name\">{fileName}</div>\n                <div className=\"pill\">{lineno}:1</div>\n            </div>\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport {CaretDown, CaretRight} from \"react-bootstrap-icons\";\n\nimport StackContext from \"../../../Providers/StackContext\";\nimport {CallStackRow} from \"./CallStackRow/CallStackRow\";\n\nimport \"./CallStackContainer.scss\";\n\n/**\n * Contains the call stack container.\n * @return {JSX.Element}\n */\nexport function CallStackContainer () {\n    const [callStacks, setCallStacks] = useState([]);\n    const [stacksExpanded, setStacksExpanded] = useState({});\n\n    const {stacks} = useContext(StackContext);\n\n    // Toggle collapse of stack frames\n    const toggleCollapse = (threadId) => {\n        const stackState = {...stacksExpanded};\n\n        if (stackState[threadId] === undefined) {\n            stackState[threadId] = false;\n        } else {\n            stackState[threadId] = !stackState[threadId];\n        }\n        setStacksExpanded(stackState);\n    };\n\n    useEffect(() => {\n        if (stacks) {\n            const threadIds = Object.keys(stacks).sort();\n            const _stacks = [];\n\n            threadIds.forEach((threadId, index) => {\n                // Create call stack rows\n                const calls = [];\n                stacks[threadId].stack.callStack.forEach((call, index) => {\n                    const row = <CallStackRow\n                        key={index}\n                        index={index}\n                        functionName={call.functionName}\n                        fileName={call.fileName}\n                        filePath={call.filePath}\n                        lineno={call.lineno}\n                        position={call.position}\n                        main={stacks[threadId].main}\n                        threadId={threadId}\n                    />;\n                    calls.push(row);\n                });\n\n                // Create stack div\n                const stackDiv = <div key={threadId} className=\"mb-2 ps-1\">\n                    {(stacksExpanded[threadId] === true || stacksExpanded[threadId] === undefined)\n                        ?\n                        <div>\n                            <span className=\"threadTitle\">\n                                <CaretDown role=\"button\" className=\"me-1\"\n                                    onClick={() => toggleCollapse(threadId)}/>\n                                    Thread-{threadId}\n                            </span>\n                            {calls}\n                        </div>\n                        :\n                        <div>\n                            <span className=\"threadTitle\">\n                                <CaretRight role=\"button\" className=\"me-1\"\n                                    onClick={() => toggleCollapse(threadId)}/>\n                                    Thread-{threadId}\n                            </span>\n                        </div>\n                    }\n                </div>;\n                _stacks.push(stackDiv);\n            });\n            setCallStacks(_stacks);\n        } else {\n            setCallStacks([]);\n        }\n    }, [stacks, stacksExpanded]);\n\n    return (\n        <div className=\"callStackContainer\">\n            {callStacks}\n        </div>\n    );\n}\n","import React, {useContext} from \"react\";\n\nimport ReactJsonView from \"@microlink/react-json-view\";\n\nimport VariablesContext from \"../../../Providers/VariablesContext\";\nimport GlobalVariablesContext from \"../../../Providers/GlobalVariablesContext\";\n\nimport \"./VariableStackContainer.scss\";\n\n/**\n * Contains the variable stack container.\n * @return {JSX.Element}\n */\nexport function VariableStackContainer () {\n    const {localVariables} = useContext(VariablesContext);\n    const {globalVariables} = useContext(GlobalVariablesContext);\n\n    const variableStackTheme = {\n        base00: \"#252526\",\n        base01: \"#ddd\",\n        base02: \"#474747\",\n        base03: \"#444\",\n        base04: \"#717171\",\n        base05: \"#444\",\n        base06: \"#444\",\n        base07: \"#c586c0\", // keys\n        base08: \"#444\",\n        base09: \"#ce9178\", // String\n        base0A: \"rgba(70, 70, 230, 1)\",\n        base0B: \"#ce9178\",\n        base0C: \"rgba(70, 70, 230, 1)\",\n        base0D: \"#bbb18c\", // indent arrow\n        base0E: \"#bbb18c\", // indent arrow\n        base0F: \"#a7ce8a\",\n    };\n\n    return (\n        <div className=\"variableStackContainer w-100 h-100 \">\n            <ReactJsonView\n                src={localVariables}\n                theme={variableStackTheme}\n                collapsed={false}\n                name={\"local\"}\n                groupArraysAfterLength={100}\n                sortKeys={true}\n                displayDataTypes={false}\n                quotesOnKeys={true}\n                collapseStringsAfterLength={30}>\n            </ReactJsonView>\n            <ReactJsonView\n                src={globalVariables}\n                theme={variableStackTheme}\n                collapsed={false}\n                name={\"global\"}\n                groupArraysAfterLength={100}\n                sortKeys={true}\n                displayDataTypes={false}\n                quotesOnKeys={true}\n                collapseStringsAfterLength={30}>\n            </ReactJsonView>\n        </div>\n    );\n}\n","import React, {useCallback, useEffect, useRef} from \"react\";\n\nimport PropTypes from \"prop-types\";\n\nimport \"./VerticalHandle.scss\";\n\nVerticalHandle.propTypes = {\n    topDiv: PropTypes.object,\n    bottomDiv: PropTypes.object,\n};\n\n/**\n * Renders a vertically resizable handle for the accordian components.\n * It accepts two components which are resized when the handle is moved.\n * @return {JSX.Element}\n */\nexport function VerticalHandle ({topDiv, bottomDiv}) {\n    const handleRef = useRef();\n    const downValueY = useRef();\n    const topHeight = useRef();\n    const bottomHeight = useRef();\n\n    const MIN_CONTAINER_HEIGHT = 25;\n\n    const handleMouseDown = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n\n        downValueY.current = e.clientY;\n        topHeight.current = topDiv.current.getBoundingClientRect().height;\n        bottomHeight.current = bottomDiv.current.getBoundingClientRect().height;\n\n        handleRef.current.classList.add(\"handle-active\");\n    }, [handleMouseMove, handleMouseUp]);\n\n    const handleMouseMove = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const delta = e.clientY - downValueY.current;\n        const newPreHeight = topHeight.current + delta;\n        const newPostHeight = bottomHeight.current - delta;\n\n        if (newPreHeight > MIN_CONTAINER_HEIGHT && newPostHeight > MIN_CONTAINER_HEIGHT) {\n            topDiv.current.style.height = newPreHeight + \"px\";\n            bottomDiv.current.style.height = newPostHeight + \"px\";\n        }\n    }, [topDiv, bottomDiv]);\n\n    const handleMouseUp = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        handleRef.current.classList.remove(\"handle-active\");\n    }, [handleMouseMove]);\n\n    useEffect(() => {\n        return () => {\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [handleMouseMove, handleMouseUp]);\n\n    return (\n        <div ref={handleRef} onMouseDown={handleMouseDown} className=\"vertical-handle\"></div>\n    );\n}\n","import React, {useEffect, useRef} from \"react\";\n\nimport {BreakPointContainer} from \"./BreakPointContainer/BreakPointContainer\";\nimport {CallStackContainer} from \"./CallStackContainer/CallStackContainer\";\nimport {VariableStackContainer} from \"./VariableStackContainer/VariableStackContainer\";\nimport {VerticalHandle} from \"./VerticalHandle/VerticalHandle\";\n\nimport \"./DebugContainer.scss\";\n\n/**\n * Contains the debugger accordian sections.\n * @return {JSX.Element}\n */\nexport function DebugContainerSemantic () {\n    const debugContainerRef = useRef();\n    const variableStackRef = useRef();\n    const breakPointRef = useRef();\n\n    const TITLE_HEIGHT = 20;\n\n    const redrawContainers = () => {\n        const height = debugContainerRef.current.clientHeight;\n        const containerHeight = height - 150;\n        breakPointRef.current.style.height = 150 - TITLE_HEIGHT + \"px\";\n        variableStackRef.current.style.height = containerHeight - TITLE_HEIGHT + \"px\";\n    };\n\n    useEffect(() => {\n        redrawContainers();\n    }, []);\n\n    return (\n        <div ref={debugContainerRef} className=\"debug-container w-100 d-flex flex-column\">\n            <div className=\"w-100 title\" style={{height: TITLE_HEIGHT + \"px\"}}>Variables</div>\n            <div className=\"section\" ref={variableStackRef}>\n                <VariableStackContainer />\n            </div>\n            <VerticalHandle topDiv={variableStackRef} bottomDiv={breakPointRef}/>\n            <div className=\"w-100 title\" style={{height: TITLE_HEIGHT + \"px\"}}>Breakpoints</div>\n            <div className=\"section\" ref={breakPointRef}>\n                <BreakPointContainer />\n            </div>\n        </div>\n    );\n}\n","import React, {useCallback, useContext, useEffect, useRef, useState} from \"react\";\n\nimport { DebugContainerSemantic } from \"../../Components/DebugContainer/DebugContainerSemantic\";\n\nimport \"./RightSideContainer.scss\";\n\n/**\n * Renders the side menu and accordian containers.\n * @return {JSX.Element}\n */\nexport function RightSideContainer () {\n    const [activeMenu, setActiveMenu] = useState(1);\n\n    const accordian = useRef();\n    const handle = useRef();\n    const downValueX = useRef();\n\n    const SIDE_MENU_WIDTH = 50;\n    const ACCORDIAN_WIDTH = 300;\n    const MIN_EDITOR_WIDTH = 400;\n    const MIN_ACCORDIAN_WIDTH = 200;\n\n    const handleMouseDown = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n        handle.current.classList.add(\"handle-active\");\n        downValueX.current = e.clientX;\n    };\n\n    const handleMouseMove = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const delta = e.clientX - downValueX.current;\n        const newWidth = accordian.current.getBoundingClientRect().width - delta;\n        const MAX_ACCORDIAN_WIDTH = document.body.clientWidth - SIDE_MENU_WIDTH - MIN_EDITOR_WIDTH;\n        if (newWidth > MIN_ACCORDIAN_WIDTH && newWidth < MAX_ACCORDIAN_WIDTH) {\n            accordian.current.style.width = newWidth + \"px\";\n            downValueX.current = e.clientX;\n        }\n    }, []);\n\n    const handleMouseUp = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        handle.current.classList.remove(\"handle-active\");\n    }, [handleMouseMove]);\n\n    useEffect(() => {\n        return () => {\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [handleMouseMove, handleMouseUp]);\n\n    const getActiveMenuComponent = () => {\n        if (activeMenu === 1) {\n            return <DebugContainerSemantic />;\n        }\n    };\n\n    return (\n        <div className=\"side-container d-flex flex-row\">\n            <div className=\"handle\" ref={handle} onMouseDown={handleMouseDown}></div>\n            <div className=\"accordian\" ref={accordian} style={{width: ACCORDIAN_WIDTH+\"px\"}}>\n                {getActiveMenuComponent()}\n            </div>\n        </div>\n    );\n}\n","import {createContext} from \"react\";\n\n// This context stores the execution tree instance information.\nconst ExecutionTreeInstanceContext = createContext();\n\nexport default ExecutionTreeInstanceContext;\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport {CaretDownFill, CaretRightFill, SignpostFill, Stack} from \"react-bootstrap-icons\";\n\nimport BreakpointsContext from \"../../../Providers/BreakpointsContext\";\nimport ExecutionTreeInstanceContext from \"../ExecutionTreeInstanceContext\";\n\nimport \"./ExecutionNode.scss\";\n\nAbstractionRow.propTypes = {\n    node: PropTypes.object,\n};\n\n/**\n * Contains a node in the execution tree.\n * @param {Object} node\n * @return {JSX.Element}\n */\nexport function AbstractionRow ({node}) {\n    const {breakPoints} = useContext(BreakpointsContext);\n    const {selectedNode, selectNode, toggleCollapse} = useContext(ExecutionTreeInstanceContext);\n    const [selectedStyle, setSelectedStyle] = useState();\n    const [debugText, setDebugText] = useState();\n    const [hasViolation, setHasViolation] = useState();\n\n    // Set style if node is selected.\n    useEffect(() => {\n        if (node && selectedNode) {\n            if (selectedNode === node) {\n                setSelectedStyle({background: \"#3b3b3b\", color: \"white\"});\n            } else {\n                setSelectedStyle({});\n            }\n        }\n        if (node) {\n            setHasViolation(false);\n            setDebugText(undefined);\n\n            if (node.invalid) {\n                setHasViolation(true);\n                setDebugText(\"violation\");\n            }\n            if (node.rootCause) {\n                setHasViolation(true);\n                setDebugText(\"root cause\");\n            }\n            if (node.exception) {\n                setHasViolation(true);\n                setSelectedStyle({background: \"#3f191b\", color: \"white\"});\n                setDebugText(\"failure\");\n            }\n        }\n    }, [selectedNode, node]);\n\n    /**\n     * Callback when a node is toggled.\n     * @param {Event} e\n     * @param {Object} node\n     */\n    const clickToggle = (e, node) => {\n        e.preventDefault();\n        if (node.collapsible) {\n            toggleCollapse(node);\n        }\n    };\n\n    /**\n     * Call back when a node is selected.\n     * @param {Event} e\n     * @param {Object} node\n     */\n    const clickSelectNode = (e, node) => {\n        e.preventDefault();\n        selectNode(node);\n    };\n\n    /**\n     * Gets the icon indicating if node can be collapsed\n     * or if it is collapsed.\n     * @param {Object} node\n     * @return {JSX}\n     */\n    const getCollapsed = (node) => {\n        if (!node.collapsible) {\n            return <></>;\n        }\n        if (node.collapsed) {\n            return <CaretRightFill className=\"icon\"/>;\n        } else {\n            return <CaretDownFill className=\"icon\"/>;\n        }\n    };\n\n    /**\n     * Creates space for each node level.\n     * @param {Object} node\n     * @return {Array}\n     */\n    const getSpacers = (node) => {\n        const spacers = [];\n        for (let i = 0; i < node.level - 1; i++) {\n            spacers.push(\n                <div className=\"spacer\" key={i}>\n                    <div className=\"vertical-line\"></div>\n                </div>\n            );\n        }\n        return spacers;\n    };\n\n    /**\n     * Get the node icon type.\n     * @return {JSX}\n     */\n    const getNodeIconType = () => {\n        if (node.abstractionType === \"function_call\") {\n            return <Stack\n                title=\"Function Call\"\n                style={{color: \"orange\"}}/>;\n        } else if (node.abstractionType === \"conditional_branch\") {\n            return <SignpostFill\n                title=\"Conditional Branch\"\n                style={{color: \"#3794ff\"}}/>;\n        }\n    };\n\n\n    const getBreakPoint = () => {\n        if (!breakPoints) return;\n        for (let i = 0; i < breakPoints.length; i++) {\n            const point = breakPoints[i];\n            if (point.abstraction_meta === node.abstractionId) {\n                const className = (point.enabled == true)?\n                    \"enabledBreakPoint\":\n                    \"disabledBreakPoint\";\n                return <div className={className}></div>;\n            }\n        }\n    };\n\n    return (\n        <div style={selectedStyle} id={\"row\" + node.index}\n            className=\"abstractionRow\">\n\n            <div className=\"icon-container\">\n                {getBreakPoint()}\n            </div>\n\n            <div className=\"icon-container\">\n                <div className=\"icon\">\n                    {getNodeIconType()}\n                </div>\n            </div>\n\n            <div className=\"flex-grow-1 d-flex flex-row w-100\"\n                onClick={(e) => clickSelectNode(e, node)}>\n\n                <div className=\"d-flex flex-row\">\n                    {getSpacers(node)}\n                </div>\n\n                <div onClick={(e) => clickToggle(e, node)} className=\"collapse-icon-container\">\n                    {getCollapsed(node)}\n                </div>\n\n                <div className=\"text-container flex-grow-1\">\n                    <span>{node.intent}</span>\n                </div>\n\n                {hasViolation ?\n                    <div className=\"analysis-status-container\">\n                        <span className=\"message\">{debugText}</span>\n                    </div>:\n                    <></>\n                }\n            </div>\n        </div>\n    );\n}","import React, {useContext, useEffect, useState} from \"react\";\n\nimport ExecutionTreeContext from \"../../Providers/ExecutionTreeContext\";\nimport StackContext from \"../../Providers/StackContext\";\nimport StackPositionContext from \"../../Providers/StackPositionContext\";\nimport {AbstractionRow} from \"./ExecutionNode/ExecutionNode\";\nimport ExecutionTreeInstanceContext from \"./ExecutionTreeInstanceContext\";\n\nimport \"./ExecutionTree.scss\";\n\n/**\n * Contains the execution tree.\n * @return {JSX.Element}\n */\nexport function ExecutionTree () {\n    const {executionTree} = useContext(ExecutionTreeContext);\n    const {stackPosition} = useContext(StackPositionContext);\n    const {stacks, activeThread, setActiveAbstraction} = useContext(StackContext);\n    const [selectedNode, setSelectedNode] = useState();\n    const [executionTreeInstance, setExecutionTreeInstance] = useState();\n    const [rootCauses, setRootCauses] = useState();\n\n    // Sync selected stack with the execution tree. This is to enable\n    // backwards compatibility but in the future, we can eliminate the stack.\n    useEffect(() => {\n        if (!stacks || stackPosition === undefined || !executionTree || !stacks[activeThread]) {\n            return;\n        }\n        const stack = stacks[activeThread].stack;\n        if (!stack?.callStack || stackPosition >= stack.callStack.length) {\n            return;\n        }\n        const stackLevel = stack.callStack[stackPosition].position;\n        for (let index = 0; index < executionTree.length; index++) {\n            const node = executionTree[index];\n            if (node.position === stackLevel) {\n                node.selected = true;\n                setSelectedNode(node);\n            } else {\n                node.selected = false;\n            }\n        }\n    }, [stackPosition, stacks, executionTree]);\n\n\n    /**\n     * Scroll to the selected node.\n     * @param {Object} node\n     */\n    const scrollToNode = (node) => {\n        const nodeElement = document.getElementById(\"row\" + node.index);\n        if (nodeElement) {\n            nodeElement.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\",\n            });\n        }\n    };\n\n    /**\n     * Scroll to node when selected node changes.\n     */\n    useEffect(() => {\n        if (selectedNode) {\n            scrollToNode(selectedNode);\n        }\n    }, [selectedNode]);\n\n    /**\n     * Render the execution tree.\n     */\n    const renderTree = () => {\n        if (executionTree) {\n            const execution = [];\n            let collapsedLevel;\n            let collapsing = false;\n\n            for (let index = 0; index < executionTree.length; index++) {\n                const node = executionTree[index];\n\n                // If we are collapsing and we reached the same\n                // level or below, then stop collapsing.\n                if (collapsing && node.level <= collapsedLevel) {\n                    collapsing = false;\n                }\n\n                // If the node is collapsed and we aren't collapsing\n                // then start collapsing\n                if (node.collapsed && !collapsing) {\n                    collapsedLevel = node.level;\n                    collapsing = true;\n                    execution.push(\n                        <AbstractionRow\n                            key={node.index}\n                            node={node}/>\n                    );\n                    continue;\n                }\n\n                // If we aren't collapsing this node, then add the node.\n                if (!collapsing) {\n                    execution.push(<AbstractionRow\n                        key={node.index}\n                        node={node}/>\n                    );\n                }\n            }\n            setExecutionTreeInstance(execution);\n        }\n    };\n\n    /**\n     * Collapse the given node\n     * @param {Object} node\n     */\n    const toggleCollapse = (node) => {\n        node.collapsed = !node.collapsed;\n        renderTree();\n    };\n\n    /**\n     * Select the given node, this function is called from execution node.\n     * @param {Object} selectedNode\n     */\n    const selectNode = (selectedNode) => {\n        for (let index = 0; index < executionTree.length; index++) {\n            const node = executionTree[index];\n            if (node === selectedNode) {\n                node.selected = true;\n                setActiveAbstraction({\n                    index: index,\n                    node: node,\n                });\n                setSelectedNode(node);\n            } else {\n                node.selected = false;\n            }\n        }\n    };\n\n    /**\n     * Render the tree when the execution tree changes.\n     *\n     * TODO: Change the way this is implemented.\n     */\n    useEffect(() => {\n        if (executionTree) {\n            getRootCause();\n            renderTree();\n        }\n    }, [executionTree]);\n\n\n    // Adds a temporary display to show the root cause of failure below\n    // the semantic design graph if there was a failure.\n    const getRootCause = () => {\n        if (executionTree.length === 0) {\n            setRootCauses(null);\n            return;\n        }\n        const lastEntry = executionTree[executionTree.length - 1];\n        if (lastEntry && \"failureInfo\" in lastEntry) {\n            const rootCauseDivs = [];\n            lastEntry[\"failureInfo\"].forEach((failure, index) => {\n                rootCauseDivs.push(\n                    <div key={index} className=\"rootcause\">{failure.cause}</div>\n                );\n            });\n            setRootCauses(\n                <div className=\"bottomContainer scrollbar\">\n                    <div className=\"title\">Root Cause(s) of Failure</div>\n                    {rootCauseDivs}\n                </div>\n            );\n        } else {\n            setRootCauses(null);\n        }\n    };\n\n    return (\n        <ExecutionTreeInstanceContext.Provider\n            value={{selectedNode, selectNode, toggleCollapse}}>\n            <div className=\"treeMenuContainer\">\n                <div className=\"topContainer\">\n                    <div className=\"titleContainer\">\n                        <span className=\"title\">Semantic Execution Graph</span>\n                    </div>\n                    <div className=\"iconMenu\">\n                    </div>\n                </div>\n                <div className=\"executionTreeContainer scrollbar flex-grow-1\">\n                    {executionTreeInstance}\n                </div>\n                {rootCauses}\n            </div>\n        </ExecutionTreeInstanceContext.Provider>\n    );\n}\n\nexport default ExecutionTree;","import React, {useEffect, useRef} from \"react\";\n\nimport \"./SettingsContainer.scss\";\n\n/**\n * @return {JSX.Element}\n */\nexport function SettingsContainer ({}) {\n    const settingsContainer = useRef();\n    const uiOptions = useRef();\n\n    const TITLE_HEIGHT = 20;\n\n    const redrawContainers = () => {\n        const height = settingsContainer.current.clientHeight;\n        uiOptions.current.style.height = height - TITLE_HEIGHT + \"px\";\n    };\n\n    useEffect(() => {\n        redrawContainers();\n    }, []);\n\n    return (\n        <div ref={settingsContainer} className=\"w-100 h-100 settings-container\">\n            <div className=\"w-100 title\" style={{height: TITLE_HEIGHT + \"px\"}}>\n                Settings\n            </div>\n            <div ref={uiOptions} className=\"w-100\">\n            </div>\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useRef} from \"react\";\n\nimport {Col, Row} from \"react-bootstrap\";\n\nimport ActionsContext from \"../../Providers/ActionsContext\";\n\nimport \"./ShortcutContainer.scss\";\n\n/**\n * @return {JSX.Element}\n */\nexport function ShortcutContainer ({}) {\n    const {mode} = useContext(ActionsContext);\n    const settingsContainer = useRef();\n    const kbdContainer = useRef();\n\n    const TITLE_HEIGHT = 20;\n\n    const redrawContainers = () => {\n        const height = settingsContainer.current.clientHeight;\n        kbdContainer.current.style.height = height - TITLE_HEIGHT + \"px\";\n    };\n\n    useEffect(() => {\n        redrawContainers();\n    }, []);\n\n    return (\n        <div ref={settingsContainer} className=\"w-100 h-100 settings-container\">\n            <div className=\"w-100 title\" style={{height: TITLE_HEIGHT + \"px\"}}>\n                Keyboard Shortcuts\n            </div>\n            <div ref={kbdContainer} className=\"w-100 shortcuts p-3 pt-1\">\n                {\n                    mode === \"BEHAVIORAL\" &&\n                    <>\n                        <Row className=\"mb-2\">\n                            <Col>Toggle Focus Between Behavioral Trace and Execution Graph</Col>\n                            <Col><kbd>T</kbd></Col>\n                        </Row>\n                    </>\n                }\n                <Row className=\"mb-2\">\n                    <Col>Step Over Forward</Col>\n                    <Col><kbd></kbd></Col>\n                </Row>\n                <Row className=\"mb-2\">\n                    <Col>Step Over Backward</Col>\n                    <Col><kbd></kbd></Col>\n                </Row>\n                <Row className=\"mb-2\">\n                    <Col>Step Into</Col>\n                    <Col><kbd></kbd></Col>\n                </Row>\n                <Row className=\"mb-2\">\n                    <Col>Step Out</Col>\n                    <Col><kbd></kbd></Col>\n                </Row>\n                {\n                    (mode === \"STACK\" || mode === \"EXECUTION\") &&\n                    <>\n                        <Row className=\"mb-2\">\n                            <Col>Move Down Stack</Col>\n                            <Col><kbd>CTRL</kbd> + <kbd></kbd></Col>\n                        </Row>\n                        <Row className=\"mb-2\">\n                            <Col>Move Up Stack</Col>\n                            <Col><kbd>CTRL</kbd> + <kbd></kbd></Col>\n                        </Row>\n                    </>\n                }\n\n                <hr/>\n                <Row className=\"mb-2\">\n                    <Col>Play Forward</Col>\n                    <Col><kbd>CTRL</kbd> + <kbd></kbd></Col>\n                </Row>\n                <Row className=\"mb-2\">\n                    <Col>Play Backward</Col>\n                    <Col><kbd>CTRL</kbd> + <kbd></kbd></Col>\n                </Row>\n                <Row className=\"mb-2\">\n                    <Col>Replay Program</Col>\n                    <Col><kbd>R</kbd></Col>\n                </Row>\n\n                <hr/>\n                <Row className=\"mb-2\">\n                    <Col>Toggle Breakpoint</Col>\n                    <Col><kbd>B</kbd></Col>\n                </Row>\n                <Row className=\"mb-2\">\n                    <Col>Enable/Disable Breakpoint</Col>\n                    <Col><kbd>D</kbd></Col>\n                </Row>\n                <Row className=\"mb-2\">\n                    <Col>Clear All Breakpoints</Col>\n                    <Col><kbd>C</kbd></Col>\n                </Row>\n            </div>\n        </div>\n    );\n}\n","import React, {useCallback, useEffect, useRef, useState} from \"react\";\n\nimport {Diagram2, Gear, Keyboard} from \"react-bootstrap-icons\";\n\nimport {ExecutionTree} from \"../../Components/ExecutionTree/ExecutionTree\";\nimport {SettingsContainer} from \"../../Components/SettingsContainer/SettingsContainer\";\nimport {ShortcutContainer} from \"../../Components/ShortcutContainer/ShortcutContainer\";\n\nimport \"./SideContainer.scss\";\n\n/**\n * Renders the side menu and accordian containers.\n * @return {JSX.Element}\n */\nexport function SideContainerGraph () {\n    const [activeMenu, setActiveMenu] = useState(1);\n\n    const accordian = useRef();\n    const handle = useRef();\n    const downValueX = useRef();\n\n    const SIDE_MENU_WIDTH = 50;\n    const ACCORDIAN_WIDTH = 500;\n    const MIN_EDITOR_WIDTH = 400;\n    const MIN_ACCORDIAN_WIDTH = 200;\n\n    const handleMouseDown = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n        handle.current.classList.add(\"handle-active\");\n        downValueX.current = e.clientX;\n    };\n\n    const handleMouseMove = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const delta = e.clientX - downValueX.current;\n        const newWidth = accordian.current.getBoundingClientRect().width + delta;\n        const MAX_ACCORDIAN_WIDTH = document.body.clientWidth - SIDE_MENU_WIDTH - MIN_EDITOR_WIDTH;\n        if (newWidth > MIN_ACCORDIAN_WIDTH && newWidth < MAX_ACCORDIAN_WIDTH) {\n            accordian.current.style.width = newWidth + \"px\";\n            downValueX.current = e.clientX;\n        }\n    }, []);\n\n    const handleMouseUp = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        handle.current.classList.remove(\"handle-active\");\n    }, [handleMouseMove]);\n\n    useEffect(() => {\n        return () => {\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [handleMouseMove, handleMouseUp]);\n\n    const getActiveMenuComponent = () => {\n        if (activeMenu === 1) {\n            return <ExecutionTree />;\n        } else if (activeMenu === 2) {\n            return <ShortcutContainer />;\n        } else if (activeMenu === 3) {\n            return <SettingsContainer />;\n        }\n    };\n\n    return (\n        <div className=\"side-container d-flex flex-row\">\n            <div className=\"menu d-flex flex-column\" style={{width: SIDE_MENU_WIDTH+\"px\"}}>\n                <div className=\"d-flex flex-column align-items-center\">\n                    <Diagram2 className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(1);}}\n                        style={{color: activeMenu == 1 ? \"white\": \"grey\"}}/>\n                </div>\n                <div className=\"mt-auto d-flex flex-column align-items-center\">\n                    <Keyboard className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(2);}}\n                        style={{color: activeMenu == 2 ? \"white\": \"grey\"}}/>\n                    <Gear className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(3);}}\n                        style={{color: activeMenu == 3 ? \"white\": \"grey\"}}/>\n                </div>\n            </div>\n            <div className=\"accordian\" ref={accordian} style={{width: ACCORDIAN_WIDTH+\"px\"}}>\n                {getActiveMenuComponent()}\n            </div>\n            <div className=\"handle\" ref={handle} onMouseDown={handleMouseDown}></div>\n        </div>\n    );\n}\n","import {createContext} from \"react\";\n\n// This context stores the execution tree instance information.\nconst DesignTreeInstanceContext = createContext();\n\nexport default DesignTreeInstanceContext;\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport {CaretDownFill, CaretRightFill, Stack} from \"react-bootstrap-icons\";\n\nimport BreakpointsContext from \"../../../Providers/BreakpointsContext\";\nimport DesignTreeInstanceContext from \"../BehavioralTreeInstanceContext\";\n\nimport \"./BehavioralNode.scss\";\n\nBehavioralNode.propTypes = {\n    node: PropTypes.object,\n};\n\n/**\n * Contains a node in the execution tree.\n * @param {Object} node\n * @return {JSX.Element}\n */\nexport function BehavioralNode ({node}) {\n    const {selectedNode, selectNode,\n        toggleCollapse, setCollapsed} = useContext(DesignTreeInstanceContext);\n    const [selectedStyle, setSelectedStyle] = useState();\n    const [hasViolation, setHasViolation] = useState();\n    const [debugText, setDebugText] = useState();\n    const {breakPoints} = useContext(BreakpointsContext);\n\n    // Set style if node is selected.\n    useEffect(() => {\n        if (node) {\n            for (let i = 0; i < node.execution.length; i++) {\n                const exec = node.execution[i];\n                if (\"violation\" in exec) {\n                    setHasViolation(true);\n                    setDebugText(\"Root Cause\");\n                }\n            }\n        }\n        if (node && selectedNode) {\n            if (node.exception) {\n                setSelectedStyle({background: \"#3f191b\", color: \"white\"});\n            } else if (selectedNode === node) {\n                setSelectedStyle({background: \"#003d35\", color: \"white\"});\n            } else {\n                setSelectedStyle({});\n            }\n        }\n    }, [selectedNode, node]);\n\n\n    const getBreakPoint = () => {\n        if (!breakPoints) return;\n        let isEnabled;\n        let hasBreakPoint;\n        for (let k = 0; k < node.execution.length; k++) {\n            const entry = node.execution[k];\n            for (let i = 0; i < breakPoints.length; i++) {\n                const point = breakPoints[i];\n                if (point.abstraction_meta === entry.abstractionId) {\n                    hasBreakPoint = true;\n                    if (point.enabled) {\n                        isEnabled = true;\n                    }\n                }\n            }\n        }\n        if (hasBreakPoint) {\n            const className = (isEnabled == true)?\n                \"enabledBreakPoint\":\n                \"disabledBreakPoint\";\n            return <div className={className}></div>;\n        }\n    };\n\n    /**\n     * Callback when a node is toggled.\n     * @param {Event} e\n     * @param {Object} node\n     */\n    const clickToggle = (e, node) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (node.collapsible) {\n            toggleCollapse(node);\n        }\n    };\n\n    /**\n     * Call back when a node is selected.\n     * @param {Event} e\n     * @param {Object} node\n     */\n    const clickSelectNode = (e, node) => {\n        e.preventDefault();\n        selectNode(node);\n        setCollapsed(node, false);\n    };\n\n    /**\n     * Gets the icon indicating if node can be collapsed\n     * or if it is collapsed.\n     * @param {Object} node\n     * @return {JSX}\n     */\n    const getCollapsed = (node) => {\n        if (!node.collapsible) {\n            return <></>;\n        }\n        if (node.collapsed) {\n            return <CaretRightFill className=\"icon\"/>;\n        } else {\n            return <CaretDownFill className=\"icon\"/>;\n        }\n    };\n\n\n    /**\n     * Creates space for each node level.\n     * @param {Object} node\n     * @return {Array}\n     */\n    const getSpacers = (node) => {\n        const spacers = [];\n        for (let i = 0; i < node.level; i++) {\n            spacers.push(\n                <div className=\"spacer\" key={i}>\n                    <div className=\"vertical-line\"></div>\n                </div>\n            );\n        }\n        return spacers;\n    };\n\n    /**\n     * Get the node icon type.\n     * @return {JSX}\n     */\n    const getNodeIconType = () => {\n        if (node.isBehavior) {\n            return <Stack\n                title=\"Function Call\"\n                style={{color: \"orange\"}}/>;\n        }\n    };\n\n    return (\n        <div style={selectedStyle} id={\"row\" + node.index}\n            className=\"abstractionRow\">\n\n            <div className=\"icon-container\">\n                {getBreakPoint()}\n            </div>\n\n            <div className=\"icon-container\">\n                <div className=\"icon\">\n                    {getNodeIconType()}\n                </div>\n            </div>\n\n            <div className=\"flex-grow-1 d-flex flex-row w-100\"\n                onClick={(e) => clickSelectNode(e, node)}>\n\n                <div className=\"d-flex flex-row\">\n                    {getSpacers(node)}\n                </div>\n\n                <div onClick={(e) => clickToggle(e, node)} className=\"collapse-icon-container\">\n                    {getCollapsed(node)}\n                </div>\n\n\n                {\n                    node.behavior ?\n                        <div className=\"text-container flex-grow-1\">\n                            <span>{node.intent}</span>\n                        </div>:\n                        <div className=\"text-container flex-grow-1\">\n                            <span>{node.entry.id}</span>\n                        </div>\n                }\n\n                {hasViolation ?\n                    <div className=\"analysis-status-container\">\n                        <span className=\"message\">{debugText}</span>\n                    </div>:\n                    <></>\n                }\n\n            </div>\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport {CircleFill} from \"react-bootstrap-icons\";\n\nimport ExecutionTreeContext from \"../../Providers/ExecutionTreeContext\";\nimport {BehavioralNode} from \"./BehavioralNode/BehavioralNode\";\nimport DesignTreeInstanceContext from \"./BehavioralTreeInstanceContext\";\n\nimport \"./BehavioralTree.scss\";\n\n/**\n * Contains the execution tree.\n * @return {JSX.Element}\n */\nexport function DesignTree () {\n    const {behavior, activeBehavior, setActiveBehavior,\n        semanticState, executionTree} = useContext(ExecutionTreeContext);\n    const [selectedNode, setSelectedNode] = useState();\n    const [executionTreeInstance, setExecutionTreeInstance] = useState();\n\n    useEffect(() => {\n        if (behavior) {\n            renderTree();\n            const targetBehavior = behavior[behavior.length - 1];\n            // Find last root behavior and expand\n            for (let i = behavior.length - 1; i >= 0; i--) {\n                const entry = behavior[i];\n                if (entry.collapsible && entry.level < targetBehavior.level) {\n                    entry.collapsed = false;\n                }\n                if (entry.level === 0) {\n                    break;\n                }\n            }\n            setActiveBehavior(behavior.length - 1);\n        }\n    }, [behavior]);\n\n    useEffect(() => {\n        if (!(activeBehavior === null || activeBehavior === undefined)) {\n            const targetBehavior = behavior[activeBehavior];\n            // Uncollapse all the nodes in the current branch\n            for (let i = activeBehavior; i >= 0; i--) {\n                const entry = behavior[i];\n                if (entry.collapsible && entry.level < targetBehavior.level) {\n                    entry.collapsed = false;\n                }\n                if (entry.level === 0) {\n                    break;\n                }\n            }\n            setSelectedNode(behavior[activeBehavior]);\n            renderTree();\n        }\n    }, [activeBehavior]);\n\n\n    /**\n     * Scroll to the selected node.\n     * @param {Object} node\n     */\n    const scrollToNode = (node) => {\n        const nodeElement = document.getElementById(\"row\" + node.index);\n        if (nodeElement) {\n            nodeElement.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\",\n            });\n        }\n    };\n\n    /**\n     * Scroll to node when selected node changes.\n     */\n    useEffect(() => {\n        if (selectedNode) {\n            scrollToNode(selectedNode);\n        }\n    }, [selectedNode]);\n\n    /**\n     * Render the execution tree.\n     */\n    const renderTree = () => {\n        if (behavior) {\n            const execution = [];\n            let collapsedLevel;\n            let collapsing = false;\n\n            for (let index = 0; index < behavior.length; index++) {\n                const node = behavior[index];\n\n                // If we are collapsing and we reached the same\n                // level or below, then stop collapsing.\n                if (collapsing && node.level <= collapsedLevel) {\n                    collapsing = false;\n                }\n\n                // If the node is collapsed and we aren't collapsing\n                // then start collapsing\n                if (node.collapsed && !collapsing) {\n                    collapsedLevel = node.level;\n                    collapsing = true;\n                    execution.push(\n                        <BehavioralNode\n                            key={index}\n                            node={node}/>\n                    );\n                    continue;\n                }\n\n                // If we aren't collapsing this node, then add the node.\n                if (!collapsing) {\n                    execution.push(<BehavioralNode\n                        key={index}\n                        node={node}/>\n                    );\n                }\n            }\n            setExecutionTreeInstance(execution);\n        }\n    };\n\n    /**\n     * Collapse the given node\n     * @param {Object} node\n     */\n    const toggleCollapse = (node) => {\n        node.collapsed = !node.collapsed;\n        renderTree();\n    };\n\n    /**\n     * Set the collapse state of the node.\n     * @param {Object} node\n     * @param {Object} state\n     */\n    const setCollapsed = (node, state) => {\n        node.collapsed = state;\n        renderTree();\n    };\n\n    /**\n     * Select the given node, this function is called from execution node.\n     * @param {Object} selectedNode\n     */\n    const selectNode = (selectedNode) => {\n        for (let index = 0; index < behavior.length; index++) {\n            const node = behavior[index];\n            if (node === selectedNode) {\n                setActiveBehavior(index);\n                node.selected = true;\n                setSelectedNode(node);\n            } else {\n                node.selected = false;\n            }\n        }\n    };\n\n    /**\n     * Render the tree when the execution tree changes.\n     *\n     * TODO: Change the way this is implemented.\n     */\n    useEffect(() => {\n        if (executionTree) {\n        }\n    }, [executionTree]);\n\n    return (\n        <DesignTreeInstanceContext.Provider\n            value={{selectedNode, selectNode, toggleCollapse, setCollapsed}}>\n            <div className=\"treeMenuContainer\">\n                <div className=\"topContainer\">\n                    <div className=\"titleContainer\">\n                        {\n                            semanticState === \"behavior\" &&\n                            <CircleFill className=\"focusIndicator\"\n                                title=\"Keyboard shortcuts focused on behavior.\"/>\n                        }\n                        <span className=\"title\">Behavioral Trace</span>\n                    </div>\n                    <div className=\"iconMenu\">\n                    </div>\n                </div>\n                <div className=\"executionTreeContainer scrollbar flex-grow-1\">\n                    {executionTreeInstance}\n                </div>\n            </div>\n        </DesignTreeInstanceContext.Provider>\n    );\n}\n\nexport default DesignTree;\n","import {createContext} from \"react\";\n\n// This context stores the execution tree instance information.\nconst BehavioralExecutionTreeInstanceContext = createContext();\n\nexport default BehavioralExecutionTreeInstanceContext;\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport PropTypes from \"prop-types\";\nimport {CaretDownFill, CaretRightFill, SignpostFill, Stack} from \"react-bootstrap-icons\";\n\nimport BreakpointsContext from \"../../../Providers/BreakpointsContext\";\nimport ExecutionTreeInstanceContext from \"../BehavioralExecutionTreeInstanceContext\";\n\nimport \"./BehavioralExecutionNode.scss\";\n\nBehavioralExecutionNode.propTypes = {\n    node: PropTypes.object,\n};\n\n/**\n * Contains a node in the execution tree.\n * @param {Object} node\n * @return {JSX.Element}\n */\nexport function BehavioralExecutionNode ({node}) {\n    const {breakPoints} = useContext(BreakpointsContext);\n    const {selectedNode, selectNode, toggleCollapse} = useContext(ExecutionTreeInstanceContext);\n    const [selectedStyle, setSelectedStyle] = useState();\n    const [debugText, setDebugText] = useState();\n    const [hasViolation, setHasViolation] = useState();\n\n    // Set style if node is selected.\n    useEffect(() => {\n        if (node && selectedNode) {\n            // console.log(node.designAbstraction?.functionalAbs?.type);\n            if (selectedNode === node) {\n                setSelectedStyle({background: \"#3b3b3b\", color: \"white\"});\n            } else {\n                setSelectedStyle({});\n            }\n        }\n        if (node) {\n            setHasViolation(false);\n            setDebugText(undefined);\n\n            if (node.invalid) {\n                setHasViolation(true);\n                setDebugText(\"violation\");\n            }\n            if (node.rootCause) {\n                setHasViolation(true);\n                setDebugText(\"root cause\");\n            }\n            if (node.exception) {\n                setHasViolation(true);\n                setSelectedStyle({background: \"#3f191b\", color: \"white\"});\n                setDebugText(\"failure\");\n            }\n        }\n    }, [selectedNode, node]);\n\n    /**\n     * Callback when a node is toggled.\n     * @param {Event} e\n     * @param {Object} node\n     */\n    const clickToggle = (e, node) => {\n        e.preventDefault();\n        if (node.collapsible) {\n            toggleCollapse(node);\n        }\n    };\n\n    /**\n     * Call back when a node is selected.\n     * @param {Event} e\n     * @param {Object} node\n     */\n    const clickSelectNode = (e, node) => {\n        e.preventDefault();\n        selectNode(node);\n    };\n\n    /**\n     * Gets the icon indicating if node can be collapsed\n     * or if it is collapsed.\n     * @param {Object} node\n     * @return {JSX}\n     */\n    const getCollapsed = (node) => {\n        if (!node.collapsible) {\n            return <></>;\n        }\n        if (node.collapsed) {\n            return <CaretRightFill className=\"icon\"/>;\n        } else {\n            return <CaretDownFill className=\"icon\"/>;\n        }\n    };\n\n    /**\n     * Creates space for each node level.\n     * @param {Object} node\n     * @return {Array}\n     */\n    const getSpacers = (node) => {\n        const spacers = [];\n        for (let i = 0; i < node.level - 1; i++) {\n            spacers.push(\n                <div className=\"spacer\" key={i}>\n                    <div className=\"vertical-line\"></div>\n                </div>\n            );\n        }\n        return spacers;\n    };\n\n    /**\n     * Get the node icon type.\n     * @return {JSX}\n     */\n    const getNodeIconType = () => {\n        if (node.abstractionType === \"function_call\") {\n            return <Stack\n                title=\"Function Call\"\n                style={{color: \"orange\"}}/>;\n        } else if (node.abstractionType === \"conditional_branch\") {\n            return <SignpostFill\n                title=\"Conditional Branch\"\n                style={{color: \"#3794ff\"}}/>;\n        }\n    };\n\n\n    const getBreakPoint = () => {\n        if (!breakPoints) return;\n        for (let i = 0; i < breakPoints.length; i++) {\n            const point = breakPoints[i];\n            if (point.abstraction_meta === node.abstractionId) {\n                const className = (point.enabled == true)?\n                    \"enabledBreakPoint\":\n                    \"disabledBreakPoint\";\n                return <div className={className}></div>;\n            }\n        }\n    };\n\n    return (\n        <div style={selectedStyle} id={\"row\" + node.index}\n            className=\"abstractionRow\">\n\n            <div className=\"icon-container\">\n                {getBreakPoint()}\n            </div>\n\n            <div className=\"icon-container\">\n                <div className=\"icon\">\n                    {getNodeIconType()}\n                </div>\n            </div>\n\n            <div className=\"flex-grow-1 d-flex flex-row w-100\"\n                onClick={(e) => clickSelectNode(e, node)}>\n\n                <div className=\"d-flex flex-row\">\n                    {getSpacers(node)}\n                </div>\n\n                <div onClick={(e) => clickToggle(e, node)} className=\"collapse-icon-container\">\n                    {getCollapsed(node)}\n                </div>\n\n                <div className=\"text-container flex-grow-1\">\n                    <span>{node.intent}</span>\n                </div>\n\n                {hasViolation ?\n                    <div className=\"analysis-status-container\">\n                        <span className=\"message\">{debugText}</span>\n                    </div>:\n                    <></>\n                }\n            </div>\n        </div>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport {CircleFill} from \"react-bootstrap-icons\";\n\nimport ExecutionTreeContext from \"../../Providers/ExecutionTreeContext\";\nimport StackContext from \"../../Providers/StackContext\";\nimport StackPositionContext from \"../../Providers/StackPositionContext\";\nimport {BehavioralExecutionNode} from \"./BehavioralExecutionNode/BehavioralExecutionNode\";\nimport BehavioralExecutionTreeInstanceContext from \"./BehavioralExecutionTreeInstanceContext\";\n\nimport \"./BehavioralExecutionTree.scss\";\n\n/**\n * Contains the execution tree.\n * @return {JSX.Element}\n */\nexport function BehavioralExecutionTree () {\n    const {behavior, executionTree, semanticState,\n        setExecutionTree, activeBehavior} = useContext(ExecutionTreeContext);\n    const {stackPosition} = useContext(StackPositionContext);\n    const {stacks, activeThread,\n        activeAbstraction, setActiveAbstraction} = useContext(StackContext);\n    const [selectedNode, setSelectedNode] = useState();\n    const [executionTreeInstance, setExecutionTreeInstance] = useState();\n\n    useEffect(() => {\n        if (!(activeBehavior === null || activeBehavior === undefined)) {\n            const exec = behavior[activeBehavior].execution;\n            if (exec && exec.length > 0) {\n                const tree = behavior[activeBehavior].execution;\n                setExecutionTree(behavior[activeBehavior].execution);\n\n                // Check if the active abstraction is in the current behavior\n                let found;\n                if (activeAbstraction) {\n                    for (let i = 0; i < tree.length; i++) {\n                        if (activeAbstraction.node === tree[i]) {\n                            found = true;\n                            break;\n                        }\n                    }\n                };\n\n                // If the active abstraction isn't in this behavior, then\n                // go to the last behavior.\n                if (!found) {\n                    const execIndex = behavior[activeBehavior].execution.length - 1;\n                    const node = behavior[activeBehavior].execution[execIndex];\n                    setSelectedNode(\n                        behavior[activeBehavior].execution[execIndex]\n                    );\n                    setActiveAbstraction({\n                        index: execIndex,\n                        node: node,\n                    });\n                    node.selected = true;\n                };\n            }\n        }\n    }, [behavior, activeBehavior]);\n\n    // Sync selected stack with the execution tree. This is to enable\n    // backwards compatibility but in the future, we can eliminate the stack.\n    useEffect(() => {\n        if (!stacks || stackPosition === undefined || !executionTree || !stacks[activeThread]) {\n            return;\n        }\n        const stack = stacks[activeThread].stack;\n        if (!stack?.callStack || stackPosition >= stack.callStack.length) {\n            return;\n        }\n        const stackLevel = stack.callStack[stackPosition].position;\n        for (let index = 0; index < executionTree.length; index++) {\n            const node = executionTree[index];\n            if (node.position === stackLevel) {\n                node.selected = true;\n                setSelectedNode(node);\n            } else {\n                node.selected = false;\n            }\n        }\n    }, [stackPosition, stacks, executionTree]);\n\n\n    /**\n     * Scroll to the selected node.\n     * @param {Object} node\n     */\n    const scrollToNode = (node) => {\n        const nodeElement = document.getElementById(\"row\" + node.index);\n        if (nodeElement) {\n            nodeElement.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\",\n            });\n        }\n    };\n\n    /**\n     * Scroll to node when selected node changes.\n     */\n    useEffect(() => {\n        if (selectedNode) {\n            scrollToNode(selectedNode);\n        }\n    }, [selectedNode]);\n\n    /**\n     * Render the execution tree.\n     */\n    const renderTree = () => {\n        if (executionTree) {\n            const execution = [];\n            let collapsedLevel;\n            let collapsing = false;\n\n            for (let index = 0; index < executionTree.length; index++) {\n                const node = executionTree[index];\n\n                // If we are collapsing and we reached the same\n                // level or below, then stop collapsing.\n                if (collapsing && node.level <= collapsedLevel) {\n                    collapsing = false;\n                }\n\n                // If the node is collapsed and we aren't collapsing\n                // then start collapsing\n                if (node.collapsed && !collapsing) {\n                    collapsedLevel = node.level;\n                    collapsing = true;\n                    execution.push(\n                        <BehavioralExecutionNode\n                            key={node.index}\n                            node={node}/>\n                    );\n                    continue;\n                }\n\n                // If we aren't collapsing this node, then add the node.\n                if (!collapsing) {\n                    execution.push(<BehavioralExecutionNode\n                        key={node.index}\n                        node={node}/>\n                    );\n                }\n            }\n            setExecutionTreeInstance(execution);\n        }\n    };\n\n    /**\n     * Collapse the given node\n     * @param {Object} node\n     */\n    const toggleCollapse = (node) => {\n        node.collapsed = !node.collapsed;\n        renderTree();\n    };\n\n    /**\n     * Select the given node, this function is called from execution node.\n     * @param {Object} selectedNode\n     */\n    const selectNode = (selectedNode) => {\n        for (let index = 0; index < executionTree.length; index++) {\n            const node = executionTree[index];\n            if (node === selectedNode) {\n                node.selected = true;\n                setActiveAbstraction({\n                    index: index,\n                    node: node,\n                });\n                setSelectedNode(node);\n            } else {\n                node.selected = false;\n            }\n        }\n    };\n\n    /**\n     * Render the tree when the execution tree changes.\n     *\n     * TODO: Change the way this is implemented.\n     */\n    useEffect(() => {\n        if (executionTree) {\n            renderTree();\n        }\n    }, [executionTree]);\n\n    return (\n        <BehavioralExecutionTreeInstanceContext.Provider\n            value={{selectedNode, selectNode, toggleCollapse}}>\n            <div className=\"treeMenuContainer\">\n                <div className=\"topContainer\">\n                    <div className=\"titleContainer\">\n                        {\n                            semanticState === \"execution\" &&\n                            <CircleFill className=\"focusIndicator\"\n                                title=\"Keyboard shortcuts focused on execution\"/>\n                        }\n                        <span className=\"title\">Semantic Execution Graph</span>\n                    </div>\n                    <div className=\"iconMenu\">\n                    </div>\n                </div>\n                <div className=\"executionTreeContainer scrollbar flex-grow-1\">\n                    {executionTreeInstance}\n                </div>\n            </div>\n        </BehavioralExecutionTreeInstanceContext.Provider>\n    );\n}\n\nexport default BehavioralExecutionTree;\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\n\nimport ExecutionTreeContext from \"../../../Providers/ExecutionTreeContext\";\n\nimport \"./RootCauseContainer.scss\";\n\n/**\n * Root cause container.\n * @return {JSX.Element}\n */\nexport function RootCauseContainer () {\n    const {rootCauses} = useContext(ExecutionTreeContext);\n    const [rootCauseDivs, setRootCauseDivs] = useState();\n\n    useEffect(() => {\n        if (rootCauses) {\n            const rootCauseEntrys = [];\n            rootCauses.forEach((entry, index) => {\n                rootCauseEntrys.push(\n                    <div key={index} className=\"rootcause\">{entry}</div>\n                );\n            });\n            setRootCauseDivs(\n                <div className=\"rootCauseContainer\">\n                    <div className=\"title\">Root Cause(s) of Failure</div>\n                    {rootCauseEntrys}\n                </div>\n            );\n        }\n    }, [rootCauses]);\n\n    return (\n        <div className=\"rootCauseContainer\">\n            {rootCauseDivs}\n        </div>\n    );\n}\n","import React, {useCallback, useEffect, useRef} from \"react\";\n\nimport PropTypes from \"prop-types\";\n\nimport \"./VerticalHandle.scss\";\n\nVerticalHandle.propTypes = {\n    topDiv: PropTypes.object,\n    bottomDiv: PropTypes.object,\n};\n\n/**\n * Renders a vertically resizable handle for the accordian components.\n * It accepts two components which are resized when the handle is moved.\n * @return {JSX.Element}\n */\nexport function VerticalHandle ({topDiv, bottomDiv}) {\n    const handleRef = useRef();\n    const downValueY = useRef();\n    const topHeight = useRef();\n    const bottomHeight = useRef();\n\n    const MIN_CONTAINER_HEIGHT = 25;\n\n    const handleMouseDown = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n\n        downValueY.current = e.clientY;\n        topHeight.current = topDiv.current.getBoundingClientRect().height;\n        bottomHeight.current = bottomDiv.current.getBoundingClientRect().height;\n\n        handleRef.current.classList.add(\"handle-active\");\n    }, [handleMouseMove, handleMouseUp]);\n\n    const handleMouseMove = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const delta = e.clientY - downValueY.current;\n        const newPreHeight = topHeight.current + delta;\n        const newPostHeight = bottomHeight.current - delta;\n\n        if (newPreHeight > MIN_CONTAINER_HEIGHT && newPostHeight > MIN_CONTAINER_HEIGHT) {\n            topDiv.current.style.height = newPreHeight + \"px\";\n            bottomDiv.current.style.height = newPostHeight + \"px\";\n        }\n    }, [topDiv, bottomDiv]);\n\n    const handleMouseUp = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        handleRef.current.classList.remove(\"handle-active\");\n    }, [handleMouseMove]);\n\n    useEffect(() => {\n        return () => {\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [handleMouseMove, handleMouseUp]);\n\n    return (\n        <div ref={handleRef} onMouseDown={handleMouseDown} className=\"vertical-handle\"></div>\n    );\n}\n","import React, {useContext, useEffect, useRef} from \"react\";\n\nimport ExecutionTreeContext from \"../../Providers/ExecutionTreeContext\";\nimport DesignTree from \"../BehavioralTree/BehavioralTree\";\nimport {BehavioralExecutionTree} from \"../BehavioralExecutionTree/BehavioralExecutionTree\";\nimport {RootCauseContainer} from \"./RootCauseContainer/RootCauseContainer\";\nimport {VerticalHandle} from \"./VerticalHandle/VerticalHandle\";\n\nimport \"./AbstractionContainer.scss\";\n\n/**\n * Contains the abstraction information display.\n * @return {JSX.Element}\n */\nexport function AbstractionContainer () {\n    const {rootCauses} = useContext(ExecutionTreeContext);\n    const behaviorContainer = useRef();\n    const abstractionContainerRef = useRef();\n    const abstractionInfoContainerRef = useRef();\n    const rootCauseContainer = useRef();\n\n    const redrawContainers = () => {\n        const height = abstractionContainerRef.current.clientHeight;\n        if (rootCauses && rootCauses.length > 0) {\n            const containerHeight = height - 550;\n            behaviorContainer.current.style.height = 400 + \"px\";\n            rootCauseContainer.current.style.height = 150 + \"px\";\n            abstractionInfoContainerRef.current.style.height = containerHeight + \"px\";\n        } else {\n            const containerHeight = height - 500;\n            behaviorContainer.current.style.height = 500 + \"px\";\n            abstractionInfoContainerRef.current.style.height = containerHeight + \"px\";\n        }\n    };\n\n    useEffect(() => {\n        redrawContainers();\n    }, []);\n\n    return (\n        <div ref={abstractionContainerRef}\n            className=\"abstraction-container w-100 d-flex flex-column\">\n            <div className=\"section\" ref={behaviorContainer}>\n                <DesignTree />\n            </div>\n            {\n                (rootCauses && rootCauses.length > 0) ?\n                    <>\n                        <VerticalHandle\n                            topDiv={behaviorContainer}\n                            bottomDiv={rootCauseContainer}/>\n                        <div className=\"section\" ref={rootCauseContainer}>\n                            <RootCauseContainer />\n                        </div>\n                        <VerticalHandle\n                            topDiv={rootCauseContainer}\n                            bottomDiv={abstractionInfoContainerRef}/>\n                        <div className=\"section\" ref={abstractionInfoContainerRef}>\n                            <BehavioralExecutionTree />\n                        </div>\n                    </>:\n                    <>\n                        <VerticalHandle\n                            topDiv={behaviorContainer}\n                            bottomDiv={abstractionInfoContainerRef}/>\n                        <div className=\"section\" ref={abstractionInfoContainerRef}>\n                            <BehavioralExecutionTree />\n                        </div>\n                    </>\n            }\n        </div>\n    );\n}\n","import React, {useCallback, useEffect, useRef, useState} from \"react\";\n\nimport {Bug, Diagram2, Gear, Keyboard, Lightbulb} from \"react-bootstrap-icons\";\n\nimport {AbstractionContainer} from \"../../Components/AbstractionContainer/AbstractionContainer\";\nimport DesignTree from \"../../Components/BehavioralTree/BehavioralTree\";\nimport {SettingsContainer} from \"../../Components/SettingsContainer/SettingsContainer\";\nimport {ShortcutContainer} from \"../../Components/ShortcutContainer/ShortcutContainer\";\nimport {ExecutionTree} from \"../../Components/ExecutionTree/ExecutionTree\";\n\nimport \"./SideContainer.scss\";\n\n/**\n * Renders the side menu and accordian containers.\n * @return {JSX.Element}\n */\nexport function SideContainerSemantic () {\n    const [activeMenu, setActiveMenu] = useState(1);\n\n    const accordian = useRef();\n    const handle = useRef();\n    const downValueX = useRef();\n\n    const SIDE_MENU_WIDTH = 50;\n    const ACCORDIAN_WIDTH = 500;\n    const MIN_EDITOR_WIDTH = 400;\n    const MIN_ACCORDIAN_WIDTH = 200;\n\n    const handleMouseDown = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n        handle.current.classList.add(\"handle-active\");\n        downValueX.current = e.clientX;\n    };\n\n    const handleMouseMove = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const delta = e.clientX - downValueX.current;\n        const newWidth = accordian.current.getBoundingClientRect().width + delta;\n        const MAX_ACCORDIAN_WIDTH = document.body.clientWidth - SIDE_MENU_WIDTH - MIN_EDITOR_WIDTH;\n        if (newWidth > MIN_ACCORDIAN_WIDTH && newWidth < MAX_ACCORDIAN_WIDTH) {\n            accordian.current.style.width = newWidth + \"px\";\n            downValueX.current = e.clientX;\n        }\n    }, []);\n\n    const handleMouseUp = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        handle.current.classList.remove(\"handle-active\");\n    }, [handleMouseMove]);\n\n    useEffect(() => {\n        return () => {\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [handleMouseMove, handleMouseUp]);\n\n    const getActiveMenuComponent = () => {\n        if (activeMenu === 1) {\n            return <AbstractionContainer />;\n        } else if (activeMenu === 2) {\n            return <ExecutionTree />;\n        } else if (activeMenu === 3) {\n            return <ShortcutContainer />;\n        } else if (activeMenu === 4) {\n            return <SettingsContainer />;\n        }\n    };\n\n    return (\n        <div className=\"side-container d-flex flex-row\">\n            <div className=\"menu d-flex flex-column\" style={{width: SIDE_MENU_WIDTH+\"px\"}}>\n                <div className=\"d-flex flex-column align-items-center\">\n                    <Diagram2 className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(1);}}\n                        style={{color: activeMenu == 1 ? \"white\": \"grey\"}}/>\n                    <Lightbulb className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(2);}}\n                        style={{color: activeMenu == 2 ? \"white\": \"grey\"}}/>\n                </div>\n                <div className=\"mt-auto d-flex flex-column align-items-center\">\n                    <Keyboard className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(3);}}\n                        style={{color: activeMenu == 3 ? \"white\": \"grey\"}}/>\n                    <Gear className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(4);}}\n                        style={{color: activeMenu == 4 ? \"white\": \"grey\"}}/>\n                </div>\n            </div>\n            <div className=\"accordian\" ref={accordian} style={{width: ACCORDIAN_WIDTH+\"px\"}}>\n                {getActiveMenuComponent()}\n            </div>\n            <div className=\"handle\" ref={handle} onMouseDown={handleMouseDown}></div>\n        </div>\n    );\n}\n","import React, {useEffect, useRef} from \"react\";\n\nimport {BreakPointContainer} from \"./BreakPointContainer/BreakPointContainer\";\nimport {CallStackContainer} from \"./CallStackContainer/CallStackContainer\";\nimport {VariableStackContainer} from \"./VariableStackContainer/VariableStackContainer\";\nimport {VerticalHandle} from \"./VerticalHandle/VerticalHandle\";\n\nimport \"./DebugContainer.scss\";\n\n/**\n * Contains the debugger accordian sections.\n * @return {JSX.Element}\n */\nexport function DebugContainer () {\n    const debugContainerRef = useRef();\n    const variableStackRef = useRef();\n    const callStackRef = useRef();\n    const breakPointRef = useRef();\n\n    const TITLE_HEIGHT = 20;\n\n    // TODO: Disable call stack container if Semantic Execution Graph is loaded.\n\n    const redrawContainers = () => {\n        const height = debugContainerRef.current.clientHeight;\n        const containerHeight = height - 500;\n        callStackRef.current.style.height = 350 - TITLE_HEIGHT + \"px\";\n        breakPointRef.current.style.height = 150 - TITLE_HEIGHT + \"px\";\n        variableStackRef.current.style.height = containerHeight - TITLE_HEIGHT + \"px\";\n    };\n\n    useEffect(() => {\n        redrawContainers();\n    }, []);\n\n    return (\n        <div ref={debugContainerRef} className=\"debug-container w-100 d-flex flex-column\">\n            <div className=\"w-100 title\" style={{height: TITLE_HEIGHT + \"px\"}}>Variables</div>\n            <div className=\"section\" ref={variableStackRef}>\n                <VariableStackContainer />\n            </div>\n            <VerticalHandle topDiv={variableStackRef} bottomDiv={callStackRef}/>\n            <div className=\"w-100 title\" style={{height: TITLE_HEIGHT + \"px\"}}>Call Stack</div>\n            <div className=\"section\" ref={callStackRef}>\n                <CallStackContainer />\n            </div>\n            <VerticalHandle topDiv={callStackRef} bottomDiv={breakPointRef}/>\n            <div className=\"w-100 title\" style={{height: TITLE_HEIGHT + \"px\"}}>Breakpoints</div>\n            <div className=\"section\" ref={breakPointRef}>\n                <BreakPointContainer />\n            </div>\n        </div>\n    );\n}\n","import React, {useCallback, useEffect, useRef, useState} from \"react\";\n\nimport {Bug, Gear, Keyboard} from \"react-bootstrap-icons\";\n\nimport {DebugContainer} from \"../../Components/DebugContainer/DebugContainer\";\nimport {SettingsContainer} from \"../../Components/SettingsContainer/SettingsContainer\";\nimport {ShortcutContainer} from \"../../Components/ShortcutContainer/ShortcutContainer\";\n\nimport \"./SideContainer.scss\";\n\n/**\n * Renders the side menu and accordian containers.\n * @return {JSX.Element}\n */\nexport function SideContainerStack () {\n    const [activeMenu, setActiveMenu] = useState(1);\n\n    const accordian = useRef();\n    const handle = useRef();\n    const downValueX = useRef();\n\n    const SIDE_MENU_WIDTH = 50;\n    const ACCORDIAN_WIDTH = 250;\n    const MIN_EDITOR_WIDTH = 400;\n    const MIN_ACCORDIAN_WIDTH = 200;\n\n    const handleMouseDown = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.addEventListener(\"mousemove\", handleMouseMove);\n        document.addEventListener(\"mouseup\", handleMouseUp);\n        handle.current.classList.add(\"handle-active\");\n        downValueX.current = e.clientX;\n    };\n\n    const handleMouseMove = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const delta = e.clientX - downValueX.current;\n        const newWidth = accordian.current.getBoundingClientRect().width + delta;\n        const MAX_ACCORDIAN_WIDTH = document.body.clientWidth - SIDE_MENU_WIDTH - MIN_EDITOR_WIDTH;\n        if (newWidth > MIN_ACCORDIAN_WIDTH && newWidth < MAX_ACCORDIAN_WIDTH) {\n            accordian.current.style.width = newWidth + \"px\";\n            downValueX.current = e.clientX;\n        }\n    }, []);\n\n    const handleMouseUp = useCallback((e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        handle.current.classList.remove(\"handle-active\");\n    }, [handleMouseMove]);\n\n    useEffect(() => {\n        return () => {\n            document.removeEventListener(\"mousemove\", handleMouseMove);\n            document.removeEventListener(\"mouseup\", handleMouseUp);\n        };\n    }, [handleMouseMove, handleMouseUp]);\n\n    const getActiveMenuComponent = () => {\n        if (activeMenu === 1) {\n            return <DebugContainer />;\n        } else if (activeMenu === 2) {\n            return <SettingsContainer />;\n        } else if (activeMenu === 3) {\n            return <ShortcutContainer />;\n        }\n    };\n\n    return (\n        <div className=\"side-container d-flex flex-row\">\n            <div className=\"menu d-flex flex-column\" style={{width: SIDE_MENU_WIDTH+\"px\"}}>\n                <div className=\"d-flex flex-column align-items-center\">\n                    <Bug className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(1);}}\n                        style={{color: activeMenu == 1 ? \"white\": \"grey\"}}/>\n                </div>\n                <div className=\"mt-auto d-flex flex-column align-items-center\">\n                    <Keyboard className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(3);}}\n                        style={{color: activeMenu == 3 ? \"white\": \"grey\"}}/>\n                    <Gear className=\"menu-icon\" size={25}\n                        onClick={(e) => {setActiveMenu(2);}}\n                        style={{color: activeMenu == 2 ? \"white\": \"grey\"}}/>\n                </div>\n            </div>\n            <div className=\"accordian\" ref={accordian} style={{width: ACCORDIAN_WIDTH+\"px\"}}>\n                {getActiveMenuComponent()}\n            </div>\n            <div className=\"handle\" ref={handle} onMouseDown={handleMouseDown}></div>\n        </div>\n    );\n}","import React, {useContext, useEffect, useRef, useState} from \"react\";\n\nimport PropTypes from \"prop-types\";\n\nimport ActionsContext from \"../../../Providers/ActionsContext\";\nimport ExecutionTreeContext from \"../../../Providers/ExecutionTreeContext\";\n\nimport \"./StatusBarMenu.scss\";\n\n// Constants\nconst MENU_WIDTH = 300;\n\nStatusBarMenu.propTypes = {\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    children: PropTypes.arrayOf(PropTypes.object),\n};\n\n\n/**\n * Renders a menu above the component in the status bar.\n * @param {string} className CSS classes for the main element\n * @param {boolean} disabled Whether the element is disabled\n * @param {object} children Children contained within these components\n * @return {JSX.Element}\n */\nexport function StatusBarMenu ({className, disabled, children}) {\n    const {behavior, executionTree} = useContext(ExecutionTreeContext);\n    const {mode, setMode} = useContext(ActionsContext);\n    const [showMenu, setShowMenu] = useState(false);\n    const [bottom, setBottom] = useState(null);\n    const [left, setLeft] = useState(null);\n\n    const containerEl = useRef();\n\n    // Calculate the position of the menu on window resize\n    useEffect(() => {\n        let resizeTimeoutId;\n        const onResize = () => {\n            clearTimeout(resizeTimeoutId);\n            resizeTimeoutId = setTimeout(setPositionOfMenu, 100);\n            setShowMenu(false);\n        };\n        window.addEventListener(\"resize\", onResize);\n        setPositionOfMenu();\n        return () => {\n            window.removeEventListener(\"resize\", onResize, false);\n        };\n    }, []);\n\n    // Setup dismissal of menu on click outside if menu is showing\n    useEffect(() => {\n        if (showMenu) {\n            const handleClickOutside = (event) => {\n                if (containerEl.current && false === containerEl.current.contains(event.target)) {\n                    setShowMenu(false);\n                }\n            };\n            document.addEventListener(\"mousedown\", handleClickOutside);\n            return () => {\n                document.removeEventListener(\"mousedown\", handleClickOutside);\n            };\n        }\n    }, [showMenu]);\n\n    // Set the position of the menu above the child component\n    const setPositionOfMenu = () => {\n        const position = containerEl.current.getBoundingClientRect();\n        const left = (position.left + (position.right - position.left) / 2) - (MENU_WIDTH / 2);\n        setBottom(position.height);\n        setLeft(left);\n    };\n\n    const toggleMenu = () => {\n        setPositionOfMenu();\n        setShowMenu(!showMenu);\n    };\n\n    const setProgramMode = (mode) => {\n        if (mode === \"stack\") {\n            setMode(\"STACK\");\n        } else if (mode === \"execution\") {\n            setMode(\"EXECUTION\");\n        } else if (mode === \"behavioral\") {\n            setMode(\"BEHAVIORAL\");\n        }\n    };\n\n    return (\n        <button\n            className={className}\n            disabled={disabled}\n            ref={containerEl}\n            onClick={toggleMenu}\n        >\n            {showMenu &&\n                <div\n                    className=\"verbosity-menu-container\"\n                    style={{\n                        left: `${left}px`,\n                        bottom: `${bottom}px`,\n                        width: `${MENU_WIDTH}px`,\n                    }}\n                >\n                    {\n                        behavior &&\n                        <option className=\"px-2\" onClick={() => setProgramMode(\"behavioral\")}>\n                            Behavioral Debugging\n                        </option>\n                    }\n                    {\n                        executionTree &&\n                        <option className=\"px-2\" onClick={() => setProgramMode(\"execution\")}>\n                            SEG Based Debugging\n                        </option>\n                    }\n                    <option className=\"px-2\" onClick={() => setProgramMode(\"stack\")}>\n                        Traditional Stack Debugging\n                    </option>\n                </div>\n            }\n            {children}\n        </button>\n    );\n}\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\n\nimport {Eyeglasses} from \"react-bootstrap-icons\";\n\nimport ActionsContext from \"../../Providers/ActionsContext\";\nimport StackContext from \"../../Providers/StackContext\";\n\nimport { StatusBarMenu } from \"./StatusBarMenu/StatusBarMenu\";\n\nimport \"./StatusBar.scss\";\n\nStatusBar.propTypes = {\n};\n\n/**\n * Status bar of the viewer component.\n * @return {JSX.Element}\n */\nexport function StatusBar ({}) {\n    const {activeThread} = useContext(StackContext);\n    const {mode, actions} = useContext(ActionsContext);\n\n    const statusRef = useRef();\n\n    const [statusMessage, setStatusMessage] = useState();\n\n    const STATUS_MESSAGE_TIMEOUT = 2000;\n\n    useEffect(() => {\n        if (actions?.value) {\n            setStatusMessage(actions.value);\n            const timerId = setTimeout(() => {\n                setStatusMessage(\"\");\n            }, STATUS_MESSAGE_TIMEOUT);\n\n            return () => {\n                clearTimeout(timerId);\n            };\n        }\n    }, [actions]);\n\n    const getProgramMode = () => {\n        if (mode === \"BEHAVIORAL\") {\n            return \"Program Mode: Behavioral Debugging\";\n        } else if (mode === \"STACK\") {\n            return \"Program Mode: Stack Based Debugging\";\n        } else if (mode === \"EXECUTION\") {\n            return \"Program Mode: SEG Based Debugging\";\n        }\n    };\n\n    return (\n        <div id=\"status-bar\">\n            <div className=\"status-bar\">\n                <div className=\"status-left\">\n                    <span className=\"statusMessage\" ref={statusRef}>\n                        {statusMessage}\n                    </span>\n                </div>\n                <div className=\"status-right \">\n\n                    <StatusBarMenu\n                        className=\"status-item status-item-button status-verbosity-accent\"\n                        disabled={false}\n                    >\n                        <Eyeglasses/>\n                        <span className=\"ms-2 me-2\">{getProgramMode()}</span>\n                    </StatusBarMenu>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\n\nimport {StatusBar} from \"../../Components/StatusBar/StatusBar\";\n\nimport \"./StatusBarContainer.scss\";\n\n/**\n * Renders the status bar.\n * @return {JSX.Element}\n */\nexport function StatusBarContainer () {\n    return (\n        <StatusBar></StatusBar>\n    );\n}\n","import React, {useContext, useEffect, useState} from \"react\";\n\nimport {CentralContainer} from \"../Components/CentralContainer/CentralContainer\";\nimport {DebugToolKit} from \"../Components/DebugToolKit/DebugToolKit\";\nimport {DebugToolKitSemantic} from \"../Components/DebugToolKit/DebugToolKitSemantic\";\nimport ActionsContext from \"../Providers/ActionsContext\";\nimport ExecutionTreeContext from \"../Providers/ExecutionTreeContext\";\nimport {RightSideContainer} from \"./RightSideContainer/RightSideContainer\";\nimport {SideContainerGraph} from \"./SideContainer/SideContainerGraph\";\nimport {SideContainerSemantic} from \"./SideContainer/SideContainerSemantic\";\nimport {SideContainerStack} from \"./SideContainer/SideContainerStack\";\nimport {StatusBarContainer} from \"./StatusBarContainer/StatusBarContainer\";\n\nimport \"./Viewer.scss\";\n\n/**\n * Renders the Diagnostic Log Viewer.\n * @return {JSX.Element}\n */\nexport function Viewer () {\n    const {mode} = useContext(ActionsContext);\n    const {executionTree} = useContext(ExecutionTreeContext);\n    const [showExecutionTree, setShowExecutionTree] = useState(false);\n\n    useEffect(() => {\n        if (executionTree) {\n            setShowExecutionTree(true);\n        } else {\n            setShowExecutionTree(false);\n        }\n    }, [executionTree]);\n\n    const getToolKit = () => {\n        if (mode === \"STACK\") {\n            return <DebugToolKit />;\n        } else if (mode === \"EXECUTION\") {\n            return <DebugToolKit />;\n        } else if (mode === \"BEHAVIORAL\") {\n            return <DebugToolKitSemantic />;\n        }\n    };\n\n    const getSideContainer = () => {\n        if (mode === \"STACK\") {\n            return <SideContainerStack />;\n        } else if (mode === \"EXECUTION\") {\n            return <SideContainerGraph />;\n        } else if (mode === \"BEHAVIORAL\") {\n            return <SideContainerSemantic />;\n        }\n    };\n\n    const getRightSideContainer = () => {\n        if (mode === \"EXECUTION\") {\n            return <RightSideContainer/>;\n        } else if (mode === \"BEHAVIORAL\") {\n            return <RightSideContainer/>;\n        }\n    };\n\n    return (\n        <div className=\"viewer-container\">\n            {getToolKit()}\n            <div className=\"menu-container\"></div>\n            <div className=\"body-container d-flex flex-row\">\n                <div className=\"d-flex h-100\">\n                    {getSideContainer()}\n                </div>\n                <div className=\"d-flex flex-grow-1 h-100 overflow-hidden\">\n                    <CentralContainer/>\n                </div>\n                { getRightSideContainer()}\n            </div>\n            <div className=\"status-bar-container\">\n                <StatusBarContainer/>\n            </div>\n        </div>\n    );\n}\n","import React, {useEffect, useState} from \"react\";\n\nimport DropFile from \"./Components/DropFile/DropFile\";\nimport CDLProviders from \"./Providers/CDLProviders\";\nimport {Viewer} from \"./Viewer/Viewer\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.scss\";\n\n/**\n * Renders the application.\n *\n * @return {JSX.Element}\n */\nexport function App () {\n    const APP_STATE = {\n        FILE_PROMPT: 0,\n        FILE_VIEW: 1,\n    };\n\n    const [appMode, setAppMode] = useState();\n    const [fileInfo, setFileInfo] = useState();\n    const [executionIndex, setExecutionIndex] = useState();\n\n    const validateIndexParam = (index) => {\n        if (index) {\n            if (isNaN(index)) {\n                console.debug(\"The provided execution index is not a number.\");\n            } else {\n                setExecutionIndex(index);\n            }\n        }\n    };\n\n    useEffect(() => {\n        const filePathParam = new URLSearchParams(window.location.search).get(\"filePath\");\n        const execIndexParam = new URLSearchParams(window.location.search).get(\"executionIndex\");\n        if (filePathParam) {\n            setFileInfo(filePathParam);\n            validateIndexParam(execIndexParam);\n            setAppMode(APP_STATE.FILE_VIEW);\n        } else {\n            setAppMode(APP_STATE.FILE_PROMPT);\n        }\n    }, []);\n\n    /**\n     * Handles the file being changed\n     * @param {File} file\n     */\n    const handleFileChange = (file) => {\n        setFileInfo(file);\n        setAppMode(APP_STATE.FILE_VIEW);\n    };\n\n    return (\n        <DropFile handleFileDrop={handleFileChange}>\n            {(APP_STATE.FILE_VIEW === appMode) &&\n                <CDLProviders fileInfo={fileInfo} executionIndex={executionIndex}>\n                    <Viewer/>\n                </CDLProviders>\n            }\n        </DropFile>\n    );\n}\n","import React from \"react\";\n\nimport {createRoot} from \"react-dom/client\";\n\nimport {App} from \"./App\";\n\nconst root = createRoot(document.getElementById(\"app\"));\nroot.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>\n);\n"],"names":["DropFile","_ref","children","handleFileDrop","_useState2","_slicedToArray","useState","hasChildren","setHasChildren","_useState4","dragging","setDragging","selectFileEl","useRef","useEffect","Boolean","ReactDOMServer","handleDrag","e","preventDefault","stopPropagation","type","React","className","onDragEnter","FileEarmarkText","size","onDragLeave","onDragOver","onDrop","dataTransfer","files","length","Row","ref","onChange","target","onClick","current","click","href","propTypes","oneOfType","PropTypes","CDL_WORKER_PROTOCOL","LOAD_FILE","GET_METADATA","GET_POSITION_DATA","GET_VARIABLE_STACK","GET_THREADS","STEP_INTO","STEP_OUT","STEP_OVER_FORWARD","STEP_OVER_BACKWARD","GO_TO_START","GO_TO_END","TOGGLE_BREAKPOINT","BREAKPOINTS","PLAY_FORWARD","PLAY_BACKWARD","REPLAY","TOGGLE_BREAKPOINT_ENABLED","GET_EXECUTION_TREE","GO_TO_POSITION","CLEAR_BREAKPOINTS","Object","freeze","createContext","CDLProviders","fileInfo","executionIndex","setIsLoading","activeFile","setActiveFile","_useState6","stacks","setStacks","_useState8","activeThread","setActiveThread","_useState0","stackPosition","setStackPosition","_useState10","localVariables","setLocalVariables","_useState12","globalVariables","setGlobalVariables","_useState14","fileTree","setFileTree","_useState16","breakPoints","setBreakPoints","_useState18","threads","setThreads","_useState20","activeAbstraction","setActiveAbstraction","_useState22","executionTree","setExecutionTree","_useState24","executionTreeFull","setExecutionTreeFull","_useState26","behavior","setBehavior","_useState28","rootCauses","setRootCauses","_useState30","mode","setMode","_useState32","activeBehavior","setActiveBehavior","_useState34","value","tick","actions","setActions","_useState36","semanticState","setSemanticState","cdlWorker","terminate","_stacks$activeThread","undefined","stack","callStack","console","warn","filePath","postMessage","code","args","position","threadId","node","Worker","URL","onmessage","handleWorkerMessage","error","useCallback","event","data","_stacks","keys","forEach","main","breakpoints","lastEntry","failure","index","push","cause","saveRootCauses","StackPositionContext","Provider","FileTreeContext","WorkerContext","ThreadsContext","GlobalVariablesContext","VariablesContext","BreakpointsContext","StackContext","ActiveFileContext","ExecutionTreeContext","ActionsContext","getLineDecoration","line","range","monaco","options","glyphMarginClassName","MonacoInstance","useContext","PositionStateContext","_useContext2","zoneIds","setZoneIds","breakPointDecorations","setBreakPointDecorations","lineDecorations","setLineDecorations","editorRef","monacoRef","activeFileRef","loader","config","loadContent","drawBreakPoints","currHoverLineNumber","addException","exceptions","changeViewZones","changeAccessor","exceptionZoneInfo","exception","domNode","document","createElement","numLines","exceptionValue","trim","split","pop","exceptionMessage","key","style","whiteSpace","createRoot","render","marginTop","paddingLeft","getExceptionMessage","zoneId","addZone","afterLineNumber","lineno","heightInPx","concat","selectLine","revealLineInCenter","deltaDecorations","isWholeLine","removeZone","setValue","setHiddenAreas","source","lines","linesToHide","i","includes","getLinesToHide","_step","decos","_iterator","_createForOfIteratorHelper","s","n","done","breakPoint","enabled","err","f","hoverDecorations","onMonacoMouseMove","lineNumber","decoration","onMonacoMouseLeave","onMonacoMouseDown","fileName","Editor","defaultValue","theme","onMount","editor","onMouseDown","onMouseMove","onMouseLeave","language","Tab","tabName","tabRef","_useContext","classList","add","remove","FiletypePy","Tabs","_objectDestructuringEmpty","tabs","setTabs","fileNames","map","path","tabsJSX","arr","item","count","filter","x","CentralContainer","centralContainerRef","viewerRef","clientHeight","height","DebugToolKit","deltaX","deltaY","container","setStack","blueColor","handleMouseMove","rect","getBoundingClientRect","newX","clientX","newY","clientY","width","body","clientWidth","left","top","handleMouseUp","removeEventListener","addEventListener","keydown","prev","toggleBreakpoint","disableBreakpoint","replayProgram","clearBreakpoints","ctrlKey","playForward","stepOverForward","playBackward","stepOverBackward","moveUpStack","stepOut","moveDownStack","stepInto","sendToWorker","log","ThreeDotsVertical","y","color","cursor","Play","title","ArrowLeftShort","ArrowRightShort","ArrowUpShort","ArrowDownShort","ArrowRepeat","DebugToolKitSemantic","_useContext6","toggleFocusOfDebugOperations","getExecutionPosFromActiveAbstraction","pos","startLevel","level","j","execution","isBreakPoint","lastExecution","exec","k","firstExecution","Layers","BreakPointRow","isEnabled","setIsEnabled","Form","Check","defaultChecked","X","BreakPointContainer","breakPointStack","setBreakPointStack","_breakPoints","row","CallStackRow","functionName","rowStyle","setRowStyle","nameStyle","setNameStyle","currStack","hasException","backgroundColor","setStyle","CallStackContainer","callStacks","setCallStacks","stacksExpanded","setStacksExpanded","toggleCollapse","stackState","_objectSpread","threadIds","sort","calls","call","stackDiv","CaretDown","role","CaretRight","VariableStackContainer","variableStackTheme","base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F","ReactJsonView","src","collapsed","name","groupArraysAfterLength","sortKeys","displayDataTypes","quotesOnKeys","collapseStringsAfterLength","VerticalHandle","topDiv","bottomDiv","handleRef","downValueY","topHeight","bottomHeight","handleMouseDown","delta","newPreHeight","newPostHeight","DebugContainerSemantic","debugContainerRef","variableStackRef","breakPointRef","containerHeight","TITLE_HEIGHT","RightSideContainer","activeMenu","accordian","handle","downValueX","newWidth","MAX_ACCORDIAN_WIDTH","ACCORDIAN_WIDTH","getActiveMenuComponent","AbstractionRow","ExecutionTreeInstanceContext","selectedNode","selectNode","selectedStyle","setSelectedStyle","debugText","setDebugText","hasViolation","setHasViolation","background","invalid","rootCause","id","point","abstraction_meta","abstractionId","getBreakPoint","abstractionType","Stack","SignpostFill","clickSelectNode","spacers","getSpacers","collapsible","clickToggle","CaretRightFill","CaretDownFill","getCollapsed","intent","ExecutionTree","_useContext3","setSelectedNode","executionTreeInstance","setExecutionTreeInstance","stackLevel","selected","nodeElement","getElementById","scrollIntoView","block","renderTree","collapsedLevel","collapsing","getRootCause","rootCauseDivs","SettingsContainer","settingsContainer","uiOptions","ShortcutContainer","kbdContainer","Col","SideContainerGraph","setActiveMenu","SIDE_MENU_WIDTH","Diagram2","Keyboard","Gear","BehavioralNode","DesignTreeInstanceContext","setCollapsed","hasBreakPoint","entry","isBehavior","getNodeIconType","targetBehavior","state","CircleFill","BehavioralExecutionNode","BehavioralExecutionTree","found","tree","execIndex","BehavioralExecutionTreeInstanceContext","RootCauseContainer","setRootCauseDivs","rootCauseEntrys","AbstractionContainer","behaviorContainer","abstractionContainerRef","abstractionInfoContainerRef","rootCauseContainer","redrawContainers","DesignTree","SideContainerSemantic","Lightbulb","DebugContainer","callStackRef","SideContainerStack","Bug","StatusBarMenu","disabled","showMenu","setShowMenu","bottom","setBottom","setLeft","containerEl","resizeTimeoutId","onResize","clearTimeout","setTimeout","setPositionOfMenu","window","handleClickOutside","contains","right","MENU_WIDTH","setProgramMode","StatusBar","statusRef","statusMessage","setStatusMessage","timerId","Eyeglasses","StatusBarContainer","Viewer","setShowExecutionTree","App","appMode","setAppMode","setFileInfo","setExecutionIndex","filePathParam","URLSearchParams","location","search","get","execIndexParam","isNaN","debug","file"],"sourceRoot":""}